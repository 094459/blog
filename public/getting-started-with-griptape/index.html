<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <meta name="generator" content="Hugo 0.121.1">
  
  
    <link rel="canonical" href="https://blog.beachgeek.co.uk/getting-started-with-griptape/">
  

  

  
    
    
    
    
    

  
    <link rel="webmention" href="https://webmention.io/username.co.uk/webmention" />
    <link rel="pingback" href="https://webmention.io/username.co.uk/xmlrpc" />



  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#000000">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="theme-color" content="#ffffff">

  <link rel="stylesheet" href="https://blog.beachgeek.co.uk/css/syntax.css" media="none" onload="this.media='all';">

  
  
  <link rel="stylesheet" type="text/css" href="https://blog.beachgeek.co.uk/css/styles.css">

  
  
  <link rel="stylesheet" type="text/css" href="https://blog.beachgeek.co.uk/style.main.css">

  

  <link rel="alternate" rel="canonical" href="https://blog.beachgeek.co.uk/index.xml" >
  
  <style id="inverter" media="none">
    .intro-and-nav, .main-and-footer { filter: invert(100%) }
    * { background-color: inherit }
    img:not([src*=".svg"]), .colors, iframe, .demo-container { filter: invert(100%) }
  </style>

  
  
  <title>Getting gnarly with AI - a quick look at Griptape, an enterprise ready alternative to LangChain | Beachgeek blog - a refuge for pineapple on pizza lovers</title>

  <meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Getting gnarly with AI - a quick look at Griptape, an enterprise ready alternative to LangChain"/>
<meta name="twitter:description" content="Getting started with Griptape Getting gnarly with AI
When I was much much younger, I was known to (very occasionally) drop an ollie, kick-turn, or very occasionally dare a drop in on my trusty skateboard. Thanks to the grip tape, my shoes would stick to the board, and gave me the confidence I could try these tricks. I was always grateful to that grip tape and who knew all these years later, I would become re-aquatinted with it (albeit in a different form!"/>
<meta name="twitter:site" content="@094459"/>

  <meta name="twitter:card" content="summary" />
</head>

  <body>
    <a href="#main">skip to content</a>
    <svg style="display: none">
  <symbol id="bookmark" viewBox="0 0 40 50">
   <g transform="translate(2266 3206.2)">
    <path style="stroke:currentColor;stroke-width:3.2637;" d="m-2262.2-3203.4-.2331 42.195 16.319-16.318 16.318 16.318.2331-42.428z"/>
   </g>
  </symbol>

  <symbol id="w3c" viewBox="0 0 127.09899 67.763">
   <text font-size="83" style="font-size:83px;font-family:Trebuchet;letter-spacing:-12;fill-opacity:0" letter-spacing="-12" y="67.609352" x="-26.782778">W3C</text>
   <text font-size="83" style="font-size:83px;font-weight:bold;font-family:Trebuchet;fill-opacity:0" y="67.609352" x="153.21722" font-weight="bold">SVG</text>
   <path style="fill:currentColor;image-rendering:optimizeQuality;shape-rendering:geometricPrecision" d="m33.695.377 12.062 41.016 12.067-41.016h8.731l-19.968 67.386h-.831l-12.48-41.759-12.479 41.759h-.832l-19.965-67.386h8.736l12.061 41.016 8.154-27.618-3.993-13.397h8.737z"/>
   <path style="fill:currentColor;image-rendering:optimizeQuality;shape-rendering:geometricPrecision" d="m91.355 46.132c0 6.104-1.624 11.234-4.862 15.394-3.248 4.158-7.45 6.237-12.607 6.237-3.882 0-7.263-1.238-10.148-3.702-2.885-2.47-5.02-5.812-6.406-10.022l6.82-2.829c1.001 2.552 2.317 4.562 3.953 6.028 1.636 1.469 3.56 2.207 5.781 2.207 2.329 0 4.3-1.306 5.909-3.911 1.609-2.606 2.411-5.738 2.411-9.401 0-4.049-.861-7.179-2.582-9.399-1.995-2.604-5.129-3.912-9.397-3.912h-3.327v-3.991l11.646-20.133h-14.062l-3.911 6.655h-2.493v-14.976h32.441v4.075l-12.31 21.217c4.324 1.385 7.596 3.911 9.815 7.571 2.22 3.659 3.329 7.953 3.329 12.892z"/>
   <path style="fill:currentColor;image-rendering:optimizeQuality;shape-rendering:geometricPrecision" d="m125.21 0 1.414 8.6-5.008 9.583s-1.924-4.064-5.117-6.314c-2.693-1.899-4.447-2.309-7.186-1.746-3.527.73-7.516 4.938-9.258 10.13-2.084 6.21-2.104 9.218-2.178 11.978-.115 4.428.58 7.043.58 7.043s-3.04-5.626-3.011-13.866c.018-5.882.947-11.218 3.666-16.479 2.404-4.627 5.954-7.404 9.114-7.728 3.264-.343 5.848 1.229 7.841 2.938 2.089 1.788 4.213 5.698 4.213 5.698l4.94-9.837z"/>
   <path style="fill:currentColor;image-rendering:optimizeQuality;shape-rendering:geometricPrecision" d="m125.82 48.674s-2.208 3.957-3.589 5.48c-1.379 1.524-3.849 4.209-6.896 5.555-3.049 1.343-4.646 1.598-7.661 1.306-3.01-.29-5.807-2.032-6.786-2.764-.979-.722-3.486-2.864-4.897-4.854-1.42-2-3.634-5.995-3.634-5.995s1.233 4.001 2.007 5.699c.442.977 1.81 3.965 3.749 6.572 1.805 2.425 5.315 6.604 10.652 7.545 5.336.945 9.002-1.449 9.907-2.031.907-.578 2.819-2.178 4.032-3.475 1.264-1.351 2.459-3.079 3.116-4.108.487-.758 1.276-2.286 1.276-2.286l-1.276-6.644z"/>
  </symbol>

  <symbol id="tag" viewBox="0 0 177.16535 177.16535">
    <g transform="translate(0 -875.2)">
     <path style="fill-rule:evenodd;stroke-width:0;fill:currentColor" d="m159.9 894.3-68.79 8.5872-75.42 77.336 61.931 60.397 75.429-76.565 6.8495-69.755zm-31.412 31.835a10.813 10.813 0 0 1 1.8443 2.247 10.813 10.813 0 0 1 -3.5174 14.872l-.0445.0275a10.813 10.813 0 0 1 -14.86 -3.5714 10.813 10.813 0 0 1 3.5563 -14.863 10.813 10.813 0 0 1 13.022 1.2884z"/>
    </g>
  </symbol>

  <symbol id="balloon" viewBox="0 0 141.73228 177.16535">
   <g transform="translate(0 -875.2)">
    <g>
     <path style="fill:currentColor" d="m68.156 882.83-.88753 1.4269c-4.9564 7.9666-6.3764 17.321-5.6731 37.378.36584 10.437 1.1246 23.51 1.6874 29.062.38895 3.8372 3.8278 32.454 4.6105 38.459 4.6694-.24176 9.2946.2879 14.377 1.481 1.2359-3.2937 5.2496-13.088 8.886-21.623 6.249-14.668 8.4128-21.264 10.253-31.252 1.2464-6.7626 1.6341-12.156 1.4204-19.764-.36325-12.93-2.1234-19.487-6.9377-25.843-2.0833-2.7507-6.9865-7.6112-7.9127-7.8436-.79716-.20019-6.6946-1.0922-6.7755-1.0248-.02213.0182-5.0006-.41858-7.5248-.22808l-2.149-.22808h-3.3738z"/>
     <path style="fill:currentColor" d="m61.915 883.28-3.2484.4497c-1.7863.24724-3.5182.53481-3.8494.63994-2.4751.33811-4.7267.86957-6.7777 1.5696-.28598 0-1.0254.20146-2.3695.58589-5.0418 1.4418-6.6374 2.2604-8.2567 4.2364-6.281 7.6657-11.457 18.43-12.932 26.891-1.4667 8.4111.71353 22.583 5.0764 32.996 3.8064 9.0852 13.569 25.149 22.801 37.517 1.3741 1.841 2.1708 2.9286 2.4712 3.5792 3.5437-1.1699 6.8496-1.9336 10.082-2.3263-1.3569-5.7831-4.6968-21.86-6.8361-33.002-.92884-4.8368-2.4692-14.322-3.2452-19.991-.68557-5.0083-.77707-6.9534-.74159-15.791.04316-10.803.41822-16.162 1.5026-21.503 1.4593-5.9026 3.3494-11.077 6.3247-15.852z"/>
     <path style="fill:currentColor" d="m94.499 885.78c-.10214-.0109-.13691 0-.0907.0409.16033.13489 1.329 1.0675 2.5976 2.0723 6.7003 5.307 11.273 14.568 12.658 25.638.52519 4.1949.24765 14.361-.5059 18.523-2.4775 13.684-9.7807 32.345-20.944 53.519l-3.0559 5.7971c2.8082.76579 5.7915 1.727 8.9926 2.8441 11.562-11.691 18.349-19.678 24.129-28.394 7.8992-11.913 11.132-20.234 12.24-31.518.98442-10.02-1.5579-20.876-6.7799-28.959-.2758-.4269-.57803-.86856-.89617-1.3166-3.247-6.13-9.752-12.053-21.264-16.131-2.3687-.86369-6.3657-2.0433-7.0802-2.1166z"/>
     <path style="fill:currentColor" d="m32.52 892.22c-.20090-.13016-1.4606.81389-3.9132 2.7457-11.486 9.0476-17.632 24.186-16.078 39.61.79699 7.9138 2.4066 13.505 5.9184 20.562 5.8577 11.77 14.749 23.219 30.087 38.74.05838.059.12188.1244.18052.1838 1.3166-.5556 2.5965-1.0618 3.8429-1.5199-.66408-.32448-1.4608-1.3297-3.8116-4.4602-5.0951-6.785-8.7512-11.962-13.051-18.486-5.1379-7.7948-5.0097-7.5894-8.0586-13.054-6.2097-11.13-8.2674-17.725-8.6014-27.563-.21552-6.3494.13041-9.2733 1.775-14.987 2.1832-7.5849 3.9273-10.986 9.2693-18.07 1.7839-2.3656 2.6418-3.57 2.4409-3.7003z"/>
     <path style="fill:currentColor" d="m69.133 992.37c-6.2405.0309-12.635.76718-19.554 2.5706 4.6956 4.7759 9.935 10.258 12.05 12.625l4.1272 4.6202h11.493l3.964-4.4516c2.0962-2.3541 7.4804-7.9845 12.201-12.768-8.378-1.4975-16.207-2.6353-24.281-2.5955z"/>
     <rect style="stroke-width:0;fill:currentColor" ry="2.0328" height="27.746" width="22.766" y="1017.7" x="60.201"/>
    </g>
   </g>
  </symbol>

  <symbol id="info" viewBox="0 0 41.667 41.667">
   <g transform="translate(-37.035 -1004.6)">
    <path style="stroke-linejoin:round;stroke:currentColor;stroke-linecap:round;stroke-width:3.728;fill:none" d="m76.25 1030.2a18.968 18.968 0 0 1 -23.037 13.709 18.968 18.968 0 0 1 -13.738 -23.019 18.968 18.968 0 0 1 23.001 -13.768 18.968 18.968 0 0 1 13.798 22.984"/>
    <g transform="matrix(1.1146 0 0 1.1146 -26.276 -124.92)">
     <path style="stroke:currentColor;stroke-linecap:round;stroke-width:3.728;fill:none" d="m75.491 1039.5v-8.7472"/>
     <path style="stroke-width:0;fill:currentColor" transform="scale(-1)" d="m-73.193-1024.5a2.3719 2.3719 0 0 1 -2.8807 1.7142 2.3719 2.3719 0 0 1 -1.718 -2.8785 2.3719 2.3719 0 0 1 2.8763 -1.7217 2.3719 2.3719 0 0 1 1.7254 2.8741"/>
    </g>
   </g>
  </symbol>

  <symbol id="warning" viewBox="0 0 48.430474 41.646302">
    <g transform="translate(-1.1273 -1010.2)">
     <path style="stroke-linejoin:round;stroke:currentColor;stroke-linecap:round;stroke-width:4.151;fill:none" d="m25.343 1012.3-22.14 37.496h44.28z"/>
     <path style="stroke:currentColor;stroke-linecap:round;stroke-width:4.1512;fill:none" d="m25.54 1027.7v8.7472"/>
     <path style="stroke-width:0;fill:currentColor" d="m27.839 1042.8a2.3719 2.3719 0 0 1 -2.8807 1.7143 2.3719 2.3719 0 0 1 -1.718 -2.8785 2.3719 2.3719 0 0 1 2.8763 -1.7217 2.3719 2.3719 0 0 1 1.7254 2.8741"/>
    </g>
  </symbol>

  <symbol id="menu" viewBox="0 0 50 50">
     <rect style="stroke-width:0;fill:currentColor" height="10" width="50" y="0" x="0"/>
     <rect style="stroke-width:0;fill:currentColor" height="10" width="50" y="20" x="0"/>
     <rect style="stroke-width:0;fill:currentColor" height="10" width="50" y="40" x="0"/>
   </symbol>

   <symbol id="link" viewBox="0 0 50 50">
    <g transform="translate(0 -1002.4)">
     <g transform="matrix(.095670 0 0 .095670 2.3233 1004.9)">
      <g>
       <path style="stroke-width:0;fill:currentColor" d="m452.84 192.9-128.65 128.65c-35.535 35.54-93.108 35.54-128.65 0l-42.881-42.886 42.881-42.876 42.884 42.876c11.845 11.822 31.064 11.846 42.886 0l128.64-128.64c11.816-11.831 11.816-31.066 0-42.9l-42.881-42.881c-11.822-11.814-31.064-11.814-42.887 0l-45.928 45.936c-21.292-12.531-45.491-17.905-69.449-16.291l72.501-72.526c35.535-35.521 93.136-35.521 128.64 0l42.886 42.881c35.535 35.523 35.535 93.141-.001 128.66zm-254.28 168.51-45.903 45.9c-11.845 11.846-31.064 11.817-42.881 0l-42.884-42.881c-11.845-11.821-11.845-31.041 0-42.886l128.65-128.65c11.819-11.814 31.069-11.814 42.884 0l42.886 42.886 42.876-42.886-42.876-42.881c-35.54-35.521-93.113-35.521-128.65 0l-128.65 128.64c-35.538 35.545-35.538 93.146 0 128.65l42.883 42.882c35.51 35.54 93.11 35.54 128.65 0l72.496-72.499c-23.956 1.597-48.092-3.784-69.474-16.283z"/>
      </g>
     </g>
    </g>
  </symbol>

  <symbol id="doc" viewBox="0 0 35 45">
   <g transform="translate(-147.53 -539.83)">
    <path style="stroke:currentColor;stroke-width:2.4501;fill:none" d="m149.38 542.67v39.194h31.354v-39.194z"/>
    <g style="stroke-width:25" transform="matrix(.098003 0 0 .098003 133.69 525.96)">
     <path d="m220 252.36h200" style="stroke:currentColor;stroke-width:25;fill:none"/>
     <path style="stroke:currentColor;stroke-width:25;fill:none" d="m220 409.95h200"/>
     <path d="m220 488.74h200" style="stroke:currentColor;stroke-width:25;fill:none"/>
     <path d="m220 331.15h200" style="stroke:currentColor;stroke-width:25;fill:none"/>
    </g>
   </g>
 </symbol>

 <symbol id="tick" viewBox="0 0 177.16535 177.16535">
  <g transform="translate(0 -875.2)">
   <rect style="stroke-width:0;fill:currentColor" transform="rotate(30)" height="155" width="40" y="702.99" x="556.82"/>
   <rect style="stroke-width:0;fill:currentColor" transform="rotate(30)" height="40" width="90.404" y="817.99" x="506.42"/>
  </g>
 </symbol>
</svg>

    <div class="wrapper">
      <header class="intro-and-nav" role="banner">
  <div>
    <div class="intro">
      <a class="logo" href="https://blog.beachgeek.co.uk/" aria-label="Beachgeek blog - a refuge for pineapple on pizza lovers home page">
        <img src="https://blog.beachgeek.co.uk/images/logo.svg" alt="My site icon">
      </a>
      <p class="library-desc">
         Technologist and Maker specialising in Cloud, Open Source and Innovation. 
      </p>
    </div>
    <nav id="patterns-nav" class="patterns" role="navigation">
  <h2 class="vh">Main navigation</h2>
  <button id="menu-button" aria-expanded="false">
    <svg viewBox="0 0 50 50" aria-hidden="true" focusable="false">
      <use xlink:href="#menu"></use>
    </svg>
    Menu
  </button>
  
  <ul id="patterns-list">
  
    <li class="pattern">
      
      
      
      
      <a href="/" >
        <svg class="bookmark-icon" aria-hidden="true" focusable="false" viewBox="0 0 40 50">
          <use xlink:href="#bookmark"></use>
        </svg>
        <span class="text">Home</span>
      </a>
    </li>
  
    <li class="pattern">
      
      
      
      
      <a href="/post/" >
        <svg class="bookmark-icon" aria-hidden="true" focusable="false" viewBox="0 0 40 50">
          <use xlink:href="#bookmark"></use>
        </svg>
        <span class="text">Blog posts</span>
      </a>
    </li>
  
    <li class="pattern">
      
      
      
      
      <a href="/newsletter/" >
        <svg class="bookmark-icon" aria-hidden="true" focusable="false" viewBox="0 0 40 50">
          <use xlink:href="#bookmark"></use>
        </svg>
        <span class="text">Newsletter</span>
      </a>
    </li>
  
    <li class="pattern">
      
      
      
      
      <a href="/tags/" >
        <svg class="bookmark-icon" aria-hidden="true" focusable="false" viewBox="0 0 40 50">
          <use xlink:href="#bookmark"></use>
        </svg>
        <span class="text">Tags</span>
      </a>
    </li>
  
    <li class="pattern">
      
      
      
      
      <a href="/about/" >
        <svg class="bookmark-icon" aria-hidden="true" focusable="false" viewBox="0 0 40 50">
          <use xlink:href="#bookmark"></use>
        </svg>
        <span class="text">About</span>
      </a>
    </li>
  
    <li class="pattern">
      
      
      
      
      <a href="/index.xml" >
        <svg class="bookmark-icon" aria-hidden="true" focusable="false" viewBox="0 0 40 50">
          <use xlink:href="#bookmark"></use>
        </svg>
        <span class="text">RSS</span>
      </a>
    </li>
  
  </ul>
</nav>
  </div>
</header>

      <div class="main-and-footer">
        <div>
          
  <main id="main">
    <h1>
      <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
        <use xlink:href="#bookmark"></use>
      </svg>
      Getting gnarly with AI - a quick look at Griptape, an enterprise ready alternative to LangChain
    </h1>

    <div class="date">
      <p>
        
        <svg role="img" xmlns="http://www.w3.org/2000/svg" width="18px" height="18px" viewBox="0 0 24 24" aria-labelledby="calendarIconTitle" stroke="#111" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none" color="#111"> <title id="calendarIconTitle">Calendar</title> <path d="M3 5H21V21H3V5Z"/> <path d="M21 9H3"/> <path d="M7 5V3"/> <path d="M17 5V3"/> </svg> Published Sep 5, 2023
      </p>
      
      <p><svg role="img" xmlns="http://www.w3.org/2000/svg" width="18px" height="18px" viewBox="0 0 24 24" aria-labelledby="stopwatchIconTitle" stroke="#111" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none" color="#111"> <title id="stopwatchIconTitle">Stopwatch</title> <circle cx="12" cy="13" r="8"/> <path d="M12 9L12 13M18 7L20 5M15 2L9 2"/> </svg> Reading time 14&nbsp;minutes</p>
      
    </div>

    
      <div class="tags">
        <strong>Tags: </strong>
        <ul aria-label="tags">
          
            <li>
              <a href="https://blog.beachgeek.co.uk/tags/griptape">
                <svg class="tag-icon" aria-hidden="true" viewBox="0 0 177.16535 177.16535" focusable="false">
                  <use xlink:href="#tag"></use>
                </svg>
                Griptape
              </a>
            </li>
          
            <li>
              <a href="https://blog.beachgeek.co.uk/tags/amazon-sagemaker">
                <svg class="tag-icon" aria-hidden="true" viewBox="0 0 177.16535 177.16535" focusable="false">
                  <use xlink:href="#tag"></use>
                </svg>
                Amazon SageMaker
              </a>
            </li>
          
            <li>
              <a href="https://blog.beachgeek.co.uk/tags/llms">
                <svg class="tag-icon" aria-hidden="true" viewBox="0 0 177.16535 177.16535" focusable="false">
                  <use xlink:href="#tag"></use>
                </svg>
                LLMs
              </a>
            </li>
          
            <li>
              <a href="https://blog.beachgeek.co.uk/tags/falcon7b">
                <svg class="tag-icon" aria-hidden="true" viewBox="0 0 177.16535 177.16535" focusable="false">
                  <use xlink:href="#tag"></use>
                </svg>
                Falcon7b
              </a>
            </li>
          
            <li>
              <a href="https://blog.beachgeek.co.uk/tags/openai">
                <svg class="tag-icon" aria-hidden="true" viewBox="0 0 177.16535 177.16535" focusable="false">
                  <use xlink:href="#tag"></use>
                </svg>
                OpenAI
              </a>
            </li>
          
        </ul>
      </div>
    
    
    
      


    

    <h2 id="getting-started-with-griptape">Getting started with Griptape</h2>
<p><strong>Getting gnarly with AI</strong></p>
<p>When I was much much younger, I was known to (very occasionally) drop an ollie, kick-turn, or very occasionally dare a drop in on my trusty skateboard. Thanks to the grip tape, my shoes would stick to the board, and gave me the confidence I could try these tricks. I was always grateful to that grip tape and who knew all these years later, I would become re-aquatinted with it (albeit in a different form!)</p>
<p>Last week I had a quick call with the folks behind <a href="https://aws-oss.beachgeek.co.uk/37t">Griptape</a>, an Apache 2.0 licenced open source project that hopes to empower developers to build a new generation of applications powered by the capabilities of large language models. It looks super interesting, and for folks who are already exploring this space, the way that I was thinking of Griptape is as a more production ready version of LangChain.</p>
<p>Enough of an introduction, in this post I am going to take a quick look at Griptape, and show you how you can get it up and running to interact with the Falcon-7b large language model, deployed on Amazon SageMaker.</p>
<p>What you will need:</p>
<ul>
<li>An AWS Account with the right level of access (Admin equiv)</li>
<li>An OpenAI API key - if you do not have one, don&rsquo;t worry, as we will also be using Falcon7b which does not require an API key</li>
<li>Code for this post can be found in the <a href="https://github.com/094459/griptape-hello-world">GitHub repo</a></li>
</ul>
<p>Lets get stuck in.</p>
<p><strong>Setting up our AWS Cloud9 environment</strong></p>
<p>The Griptape tutorial shows you how you can get started with VSCode. I am a big fan and user of this, but when it comes to working with data and machine learning technologies, I tend to work on my AWS Cloud 9 environment as I can scale up performance and capacity as I needed (my Macbook is not quite as shiny as it once was!). The first thing I did was to create my AWS Cloud9 environment, and setup a few dependencies (updating Python to run 3.10, <a href="https://aws-oss.beachgeek.co.uk/37p">check out the script I use here</a>). Griptape requires version 3.9 or newer of Python (as of writing, but check the docs), so I should be good to go.</p>
<p>The first thing I always do when working with a new Python project, is to create a fresh virtual environment. It makes your life so much easier.</p>
<pre><code>python -m venv griptape
cd griptape/
source bin/activate
(griptape) $

</code></pre>
<p>As we are going to be testing this with OpenAI, we now need to configure our API access. We will create a .env file and add our key that way (replacing the XXXX with your own OpenAI key) and install python-dotenv to make it easier to use.</p>
<pre><code>pip install python-dotenv
touch .env
echo 'OPENAI_API_KEY=&quot;xxxxxxxxxxxx&quot; ' &gt; .env
</code></pre>
<p>The final step is to install the griptape Python library</p>
<pre><code>pip install griptape
</code></pre>
<p>Don&rsquo;t worry if you see a lot of additional Python libraries installed. This is the output I got (your may vary, but you get the idea)</p>
<pre><code>Installing collected packages: tokenizers, stringcase, stopit, sortedcontainers, safetensors, pytz, python-decouple, graphlib, backports-datetime-fromisoformat, asn1crypto, zipp, websocket-client, urllib3, tzlocal, typing-extensions, tqdm, tomlkit, tld, tenacity, sniffio, six, rpds-py, regex, pyyaml, PyPDF2, pyjwt, pygments, pycryptodomex, pycparser, platformdirs, packaging, oscrypto, numpy, multidict, mdurl, MarkupSafe, lxml, loguru, langcodes, jmespath, idna, h11, greenlet, fsspec, frozenlist, fastavro, exceptiongroup, dnspython, distro, contextlib2, click, charset-normalizer, certifi, backoff, attrs, async-timeout, yarl, uvicorn, sqlalchemy, schema, requests, referencing, redis, python-dateutil, pymongo, pydantic, marshmallow, markdown-it-py, justext, jinja2, importlib_metadata, filelock, courlan, cffi, anyio, aiosignal, tiktoken, starlette, sqlalchemy-redshift, rich, pinecone-client, marshmallow-enum, marqo, jsonschema-specifications, huggingface-hub, httpcore, docker, dateparser, cryptography, botocore, aiohttp, transformers, s3transfer, pyOpenSSL, openai, jsonschema, httpx, htmldate, fastapi, cohere, trafilatura, snowflake-connector-python, boto3, anthropic, snowflake-sqlalchemy, griptape
Successfully installed MarkupSafe-2.1.3 PyPDF2-3.0.1 aiohttp-3.8.5 aiosignal-1.3.1 anthropic-0.3.11 anyio-3.7.1 asn1crypto-1.5.1 async-timeout-4.0.3 attrs-23.1.0 backoff-2.2.1 backports-datetime-fromisoformat-2.0.0 boto3-1.28.40 botocore-1.31.40 certifi-2023.7.22 cffi-1.15.1 charset-normalizer-3.2.0 click-8.1.7 cohere-4.21 contextlib2-21.6.0 courlan-0.9.3 cryptography-41.0.3 dateparser-1.1.8 distro-1.8.0 dnspython-2.4.2 docker-6.1.3 exceptiongroup-1.1.3 fastapi-0.103.1 fastavro-1.8.2 filelock-3.12.3 frozenlist-1.4.0 fsspec-2023.9.0 graphlib-0.9.5 greenlet-2.0.2 griptape-0.15.3 h11-0.14.0 htmldate-1.5.0 httpcore-0.17.3 httpx-0.24.1 huggingface-hub-0.16.4 idna-3.4 importlib_metadata-6.8.0 jinja2-3.1.2 jmespath-1.0.1 jsonschema-4.19.0 jsonschema-specifications-2023.7.1 justext-3.0.0 langcodes-3.3.0 loguru-0.7.1 lxml-4.9.3 markdown-it-py-3.0.0 marqo-1.2.4 marshmallow-3.20.1 marshmallow-enum-1.5.1 mdurl-0.1.2 multidict-6.0.4 numpy-1.25.2 openai-0.28.0 oscrypto-1.3.0 packaging-23.1 pinecone-client-2.2.2 platformdirs-3.8.1 pyOpenSSL-23.2.0 pycparser-2.21 pycryptodomex-3.18.0 pydantic-1.10.12 pygments-2.16.1 pyjwt-2.8.0 pymongo-4.5.0 python-dateutil-2.8.2 python-decouple-3.8 pytz-2023.3 pyyaml-6.0.1 redis-4.6.0 referencing-0.30.2 regex-2023.8.8 requests-2.31.0 rich-13.5.2 rpds-py-0.10.2 s3transfer-0.6.2 safetensors-0.3.3 schema-0.7.5 six-1.16.0 sniffio-1.3.0 snowflake-connector-python-3.1.1 snowflake-sqlalchemy-1.5.0 sortedcontainers-2.4.0 sqlalchemy-1.4.49 sqlalchemy-redshift-0.8.14 starlette-0.27.0 stopit-1.1.2 stringcase-1.2.0 tenacity-8.2.3 tiktoken-0.4.0 tld-0.13 tokenizers-0.13.3 tomlkit-0.12.1 tqdm-4.66.1 trafilatura-1.6.1 transformers-4.32.1 typing-extensions-4.7.1 tzlocal-5.0.1 urllib3-1.26.16 uvicorn-0.23.2 websocket-client-1.6.2 yarl-1.9.2 zipp-3.16.2
</code></pre>
<p>This now looks good, so we can now get stuck in and try it out.</p>
<p><strong>Hello World</strong></p>
<p>Before we move onto more advanced topics, lets make sure that we can Griptape to do something quickly for us. The tutorial shows you how you can use it to ask OpenAI a prompt, so lets try that.</p>
<p>Griptape uses the concept of Agents as a way of running tasks. One such task might be to communicate with Large Language Models (LLM&rsquo;s), although Agents also do other things too.</p>
<pre><code>from griptape.structures import Agent

load_dotenv() # Load the environment variables

# Create the Agent
agent = Agent()

# Run the agent
agent.run(&quot;Can you tell me what griptape is?&quot;)
</code></pre>
<p>We can see here that we have only added a few lines of code. We have used the Agent class in the Griptape library, and then got it to run a prompt against our configured LLM (which at the moment is OpenAI, which is configured via the .env). When we run this python command we get the following:</p>
<pre><code>[09/04/23 16:21:21] INFO     Task 7c75ca4912a74e628695d29b50678e23                                                                                                                                                                                                                      
                             Input: Can you tell me what griptape is?                                                                                                                                                                                                                   
WARNING:root:&lt;RetryCallState 140256866511328: attempt #1; slept for 0.0; last result: failed (InvalidRequestError The model `gpt-4` does not exist or you do not have access to it. Learn more: https://help.openai.com/en/articles/7102672-how-can-i-access-gpt-4.)&gt;
WARNING:root:&lt;RetryCallState 140256866511328: attempt #2; slept for 2.0; last result: failed (InvalidRequestError The model `gpt-4` does not exist or you do not have access to it. Learn more: https://help.openai.com/en/articles/7102672-how-can-i-access-gpt-4.)&gt;

</code></pre>
<p>Ok, so this is not what I was expecting. My OpenAI account does not currently support calls to gpt-4, which is the default being used by Griptape. A quick <a href="https://aws-oss.beachgeek.co.uk/37q">look at the documentation here</a> provides me with I hope, the answer. Lets update our code.</p>
<pre><code>from dotenv import load_dotenv

load_dotenv()

from griptape.drivers import OpenAiChatPromptDriver
from griptape.structures import Agent

agent = Agent(
    prompt_driver=OpenAiChatPromptDriver(
        model=&quot;gpt-3.5-turbo&quot;
    )
)

agent.run(
    &quot;Can you tell me what griptape is?&quot;
)

</code></pre>
<p>And now we get some output</p>
<pre><code>[09/04/23 17:25:13] INFO     Task 04a64a6156f84767a5abc3a47a649515                                                                                                                                                                                                                      
                             Input: Can you tell me what griptape is?                                                                                                                                                                                                                   
[09/04/23 17:25:18] INFO     Task 04a64a6156f84767a5abc3a47a649515                                                                                                                                                                                                                      
                             Answer: Of course! Griptape is a type of adhesive material that is applied to the top surface of a skateboard or a longboard deck. It provides traction and grip for the rider's feet, helping them maintain control and stability while riding. Griptape  
                             is usually made of a layer of sandpaper-like material with a sticky backing that adheres to the deck. It's an essential component for skateboarders and longboarders to ensure a secure footing while performing tricks or cruising. Is there anything else
                             you'd like to know about?  
</code></pre>
<p>We can improve that by changing the prompt to &ldquo;based on <a href="https://www.griptape.ai/">https://www.griptape.ai/</a>, tell me what Griptape is&rdquo; and running this again</p>
<pre><code>[09/04/23 17:28:23] INFO     Task 38051d0336204eb0aa12f8ac64a76023                                                                                                                                                                                                                      
                             Input: based on https://www.griptape.ai/, tell me what Griptape is                                                                                                                                                                                         
[09/04/23 17:28:28] INFO     Task 38051d0336204eb0aa12f8ac64a76023                                                                                                                                                                                                                      
                             Answer: Griptape is an AI-powered conversational assistant that aims to provide a friendly and helpful experience. It can assist with a wide range of tasks, such as answering questions, providing information, and engaging in casual conversation.      
                             Griptape is designed to be intuitive and user-friendly, making it easy for anyone to interact with. Whether you need assistance with a specific topic or simply want to have a friendly chat, Griptape is here to help! 
</code></pre>
<p>In only a few lines of code, we have managed to get up and running with our LLM.</p>
<p><strong>Using Griptape on our own LLMs</strong></p>
<p>What if we wanted to use Griptape with a different LLM, for example Falcon7b?</p>
<p>First lets deploy Falcon7b as an endpoint on Amazon SageMaker. We can create a Python script to do this. We create a file called &ldquo;deploy_falcon.py&rdquo; which contains the following code:</p>
<pre><code>import json
import boto3
import time
from sagemaker.huggingface import get_huggingface_llm_image_uri
from sagemaker.huggingface import HuggingFaceModel

# get image from huggingface
llm_image = get_huggingface_llm_image_uri(
  &quot;huggingface&quot;,
  version=&quot;0.8.2&quot;
)

assume_role_policy_document = json.dumps({
    &quot;Version&quot;: &quot;2012-10-17&quot;,
    &quot;Statement&quot;: [
        {
        &quot;Effect&quot;: &quot;Allow&quot;,
        &quot;Principal&quot;: {
            &quot;Service&quot;: [
                &quot;sagemaker.amazonaws.com&quot;,
                &quot;ecs.amazonaws.com&quot;
            ]
        },
        &quot;Action&quot;: &quot;sts:AssumeRole&quot;
        }
    ]
})

SAGEMAKER_IAM_ROLE_NAME = 'Sagemaker-Endpoint-Creation-Role'
SAGEMAKER_ENDPOINT_NAME = &quot;huggingface-pytorch-sagemaker-endpoint&quot;

def get_iam_role(role_name=SAGEMAKER_IAM_ROLE_NAME):
    iam_client = boto3.client('iam')

    try: 
        role = iam_client.get_role(RoleName=role_name)
        role_arn = role['Role']['Arn']
        print(f&quot;Role {role_arn} found!&quot;)
        return role_arn
    
    except:
        role_arn = iam_client.create_role(
            RoleName=SAGEMAKER_IAM_ROLE_NAME,
            AssumeRolePolicyDocument=assume_role_policy_document
            )['Role']['Arn']

        time.sleep(10) # give the policy some time to properly create

        response = iam_client.attach_role_policy(
            PolicyArn='arn:aws:iam::aws:policy/AmazonSageMakerFullAccess',
            RoleName=SAGEMAKER_IAM_ROLE_NAME,
        )
        print(f&quot;Creating {role_arn}&quot;)
        time.sleep(20) # give iam time to let the role create
        return role_arn


# Define Model and Endpoint configuration parameter

health_check_timeout = 300
trust_remote_code = True

# Create sagemaker endpoint, default values are flan t5 xxl in a g5.8xl instance
def create_endpoint_from_HF_image(hf_model_id, instance_type=&quot;ml.g5.8xlarge&quot;, endpoint_name=SAGEMAKER_ENDPOINT_NAME, number_of_gpu=1):
    sagemaker_client = boto3.client('sagemaker')

    try: # check if endpoint already existst
        sagemaker_client.describe_endpoint(EndpointName=SAGEMAKER_ENDPOINT_NAME)
        print(f&quot;Endpoint with name {SAGEMAKER_ENDPOINT_NAME} found!&quot;)
        return
    
    except:
        print(f&quot;Creating endpoint with model{hf_model_id} on {instance_type}...&quot;)

        # create HuggingFaceModel with the image uri
        llm_model = HuggingFaceModel(
            role=get_iam_role(),
            image_uri=llm_image,
            env={
                'HF_MODEL_ID': hf_model_id,
                'SM_NUM_GPUS': json.dumps(number_of_gpu),
                'HF_MODEL_TRUST_REMOTE_CODE': json.dumps(trust_remote_code)
            }
        )

        # Deploy model to an endpoint
        # https://sagemaker.readthedocs.io/en/stable/api/inference/model.html#sagemaker.model.Model.deploy
        llm = llm_model.deploy(
            endpoint_name=endpoint_name,
            initial_instance_count=1,
            instance_type=instance_type,
            # volume_size=400, # If using an instance with local SSD storage, volume_size must be None, e.g. p4 but not p3
            container_startup_health_check_timeout=health_check_timeout  # 10 minutes to be able to load the model
        )

        print(f&quot;\nEndpoint created ({endpoint_name})&quot;)


create_endpoint_from_HF_image(hf_model_id=&quot;tiiuae/falcon-7b-instruct&quot;)

</code></pre>
<p>When we run this, it takes about 5 mins to complete</p>
<pre><code>python deploy-falcon7b.py 
Creating endpoint with modeltiiuae/falcon-7b-instruct on ml.g5.8xlarge...
Role arn:aws:iam::xxxxxxx:role/Sagemaker-Endpoint-Creation-Role found!
-----------!
Endpoint created (huggingface-pytorch-sagemaker-endpoint)
</code></pre>
<p>If we look at the docs, we can see that <a href="https://docs.griptape.ai/griptape-framework/structures/prompt-drivers/">Prompt Drivers</a> section of the docs for Griptape show us how to interact with different LLMs. When we look at this, we do not see Amazon SageMaker listed. (as of Sep, 23 dear future reader).</p>
<p>From the docs we can see the format of how Griptape Prompt Drivers work, and if we look at the project <a href="https://github.com/griptape-ai/griptape/blob/main/griptape/drivers/prompt_model/sagemaker_falcon_prompt_model_driver.py">source code</a> we can see code for Falcon, so there is hope yet!</p>
<p>I was running version 0.15.3, and when I looked at the files deployed (by exploring in my site-packages) I could see that these classes where not there. I thought I would build the library from source and update my local installation so I could grab these updated Prompt Drivers.</p>
<pre><code>git clone https://github.com/griptape-ai/griptape.git upstream-griptape
cd upstream-griptape
pip install poetry
poetry build
cd dist
pip uninstall griptape
pip install griptape-0.15.3-py3-none-any.whl
</code></pre>
<p>I now had an up to date version of Griptape up and running, so now lets configure the new Prompt Driver!</p>
<p>I updated my hello-world code to use the SageMakerPromptDriver. When using this you also have to specify an additional class, currently this is either SageMakerFalconPromptModelDriver or SageMakerLlamaPromptModelDriver. As I have deployed Falcon7b,  SageMakerFalconPromptModelDriver is what I needed. This was the finished code.</p>
<pre><code>from dotenv import load_dotenv

load_dotenv()

import boto3
from griptape.drivers import AmazonSageMakerPromptDriver
from griptape.drivers import SageMakerFalconPromptModelDriver

from griptape.structures import Agent

agent = Agent(
    prompt_driver=AmazonSageMakerPromptDriver(
        model=&quot;huggingface-pytorch-sagemaker-endpoint&quot;,
        session=boto3.Session(region_name=&quot;eu-west-1&quot;),
        prompt_model_driver_type=SageMakerFalconPromptModelDriver,
    )
)

agent.run(
    &quot;based on https://www.griptape.ai/, tell me what Griptape is&quot;
)
</code></pre>
<p>When I ran this, I got the following error:</p>
<pre><code>python hello-falcon.py 
[09/05/23 09:49:54] INFO     Task 1a09fbdeeea1427a89db8f9aa6a23a24                                                                                                                                                                                                             
                             Input: based on https://www.griptape.ai/, tell me what Griptape is                                                                                                                                                                                
WARNING:root:&lt;RetryCallState 140509363345568: attempt #1; slept for 0.0; last result: failed (ModelError An error occurred (ModelError) when calling the InvokeEndpoint operation: Received client error (422) from primary with message &quot;{&quot;error&quot;:&quot;Input validation error: `inputs` tokens + `max_new_tokens` must be &lt;= 1512. Given: 30 `inputs` tokens and 4060 `max_new_tokens`&quot;,&quot;error_type&quot;:&quot;validation&quot;}&quot;. See https://eu-west-1.console.aws.amazon.com/cloudwatch/home?region=eu-west-1#logEventViewer:group=/aws/sagemaker/Endpoints/huggingface-pytorch-sagemaker-endpoint in account 704533066374 for more information.)&gt;
</code></pre>
<p>Taking a look at the source code (this is why we all love open source right!), we can see the current SageMakerFalconPromptModelDriver source code has the following two things I might need to change.</p>
<pre><code>class SageMakerFalconPromptModelDriver(BasePromptModelDriver):
    DEFAULT_MAX_TOKENS = 2048

    tokenizer: BaseTokenizer = field(
        default=Factory(
            lambda self: HuggingFaceTokenizer(
                tokenizer=AutoTokenizer.from_pretrained(
                    &quot;tiiuae/falcon-40b&quot;,
                    model_max_length=self.prompt_driver.max_tokens
                    if self.prompt_driver.max_tokens else self.DEFAULT_MAX_TOKENS
                )
            ),
            takes_self=True
        ),
        kw_only=True
    )
</code></pre>
<p>The first is the actual model being used. I have deployed the &ldquo;tiiuae/falcon-7b-instruct&rdquo; model as I do not really want to deploy the full falcon40b model for a hello-world application. The second, is that the max tokens for this is currently set to 2048. I updated the code as follows:</p>
<pre><code>class SageMakerFalconPromptModelDriver(BasePromptModelDriver):
    DEFAULT_MAX_TOKENS = 1024

    tokenizer: BaseTokenizer = field(
        default=Factory(
            lambda self: HuggingFaceTokenizer(
                tokenizer=AutoTokenizer.from_pretrained(
                    &quot;tiiuae/falcon-7b-instruct&quot;,
                    model_max_length=self.prompt_driver.max_tokens
                    if self.prompt_driver.max_tokens else self.DEFAULT_MAX_TOKENS
                )
            ),
            takes_self=True
        ),
        kw_only=True
    )
</code></pre>
<p>And then rebuilt Griptape from source, uninstalled and then installed this updated version. When I go to re-run the script, we now get success</p>
<pre><code>python hello-falcon.py 
Downloading (…)okenizer_config.json: 100%|████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 220/220 [00:00&lt;00:00, 1.11MB/s]
Downloading (…)/main/tokenizer.json: 100%|████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 2.73M/2.73M [00:00&lt;00:00, 37.1MB/s]
Downloading (…)cial_tokens_map.json: 100%|████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 281/281 [00:00&lt;00:00, 1.41MB/s]
[09/05/23 09:54:05] INFO     Task f694b0ee9e874d0293a71aa50db373d4                                                                                                                                                                                                             
                             Input: based on https://www.griptape.ai/, tell me what Griptape is                                                                                                                                                                                
[09/05/23 09:54:07] INFO     Task f694b0ee9e874d0293a71aa50db373d4                                                                                                                                                                                                             
                             Output: Act like a friendly conversational assistant.                                                                                                                                                                                             
                             User: based on https://www.griptape.ai/, tell me what Griptape is.                                                                                                                           
                             Assistant: Griptape is a tool that helps you stay on top of the latest news and trends in the tech industry. It's a great way to stay informed and get insights on the latest developments in the tech world.                                     
                             User   
</code></pre>
<p>We have successfully got Griptape interacting with our Falcon7b LLM deployed on Amazon SageMaker.</p>
<p><strong>Next Steps</strong></p>
<p>In this short blog post, I introduce a new open source tool that makes it easy for developers to get started in building applications that leverage the power of large language models. I have only scratched the surface though, and there are many more features that Griptape has that I am planning to explore. Griptape is a fast evolving open source project, so make sure you check out the <a href="https://aws-oss.beachgeek.co.uk/37u">repo here</a> - if you like what you see, why not get involved.</p>
<p>Why not take a look at <a href="https://aws-oss.beachgeek.co.uk/37t">Griptape</a> for yourself. <a href="https://aws-oss.beachgeek.co.uk/37t">Griptape</a> has some <a href="https://aws-oss.beachgeek.co.uk/37s">great tutorials</a> and getting started content, and using AWS Cloud9 makes it super easy to try. I really like the combination of text and video which makes it easy to follow along. Why not check it out for yourselves.</p>
<p>Before you disappear, please make sure you read the next section. In this demo/walk through, we provisioned some resources that you do not really want to leave up and running.</p>
<p><strong>Clean up</strong></p>
<p>It is really important before you finish that you shut down the SageMaker endpoint that we created as part of deploying Falcon7b. If you do not do this, you will continue to generate costs on your AWS bill.</p>
<p>We create our Python script called &ldquo;cleanup_falcon.py&rdquo; - you will notice that we are using the same names defined in the deploy script, so if you do change the deploy script you must make sure that you update this script as well.</p>
<pre><code>import boto3
from botocore.exceptions import ClientError

SAGEMAKER_IAM_ROLE_NAME = 'Sagemaker-Endpoint-Creation-Role'
SAGEMAKER_ENDPOINT_NAME = &quot;huggingface-pytorch-sagemaker-endpoint&quot;

sagemaker_client = boto3.client('sagemaker')
iam = boto3.client('iam')


try:
    # verify endpoint exists
    endpoint = sagemaker_client.describe_endpoint(EndpointName=SAGEMAKER_ENDPOINT_NAME)

    print(f&quot;Endpoint {endpoint['EndpointName']} found, shutting down&quot;)

    try: # delete both endpoint and configuration
        sagemaker_client.delete_endpoint(
            EndpointName=SAGEMAKER_ENDPOINT_NAME
        )
        sagemaker_client.delete_endpoint_config(
            EndpointConfigName=SAGEMAKER_ENDPOINT_NAME
        )
        print(f&quot;Endpoint {SAGEMAKER_ENDPOINT_NAME} shut down&quot;)
    except ClientError as e:
        print(e)
except:
    print(f&quot;Endpoint {SAGEMAKER_ENDPOINT_NAME} does not exist in account {boto3.client('sts').get_caller_identity().get('Account')}&quot;)
    
# delete IAM role created

role_name=SAGEMAKER_IAM_ROLE_NAME
try:
    for item in iam.list_attached_role_policies(RoleName=role_name)['AttachedPolicies']:
        policy_arn = item['PolicyArn']
        iam.detach_role_policy(RoleName=role_name, PolicyArn=policy_arn)
        print(f&quot;Detached policy {policy_arn}&quot;)
    for item in iam.list_role_policies(RoleName=role_name)['PolicyNames']:
        policy_name = item
        iam.delete_role_policy(RoleName=role_name, PolicyName=policy_name)
        print(f&quot;Deleted inline policy {policy_name}&quot;)
    iam.delete_role(RoleName=role_name)
    print(f&quot;Deleted role {role_name}&quot;)
except ClientError as e:
        print(e)
</code></pre>
<p>I then used the script I talked about in <a href="https://aws-oss.beachgeek.co.uk/37r">this blog post</a> to remove any models that were created. I have not included that here as there is the possibiity of accidently deleting real models you might care about. Check the script and then modify before you run it to remove just the models created during the falcon_deploy script.</p>
<p><strong>Help!</strong></p>
<p>As always, the fun part of putting these blog posts together is when it all goes wrong and you need to figure out how to fix it. I like to inlcude these in my blog posts, as often when folk have issues, searching on the error messages might help you find a fix.</p>
<p><em>Changing the default gpt-4 model</em></p>
<p>When I first got my code up and running and tried to run this, I got the following error:</p>
<pre><code>Input: Can you tell me what griptape is?                                                                                                                                                                                                                   
WARNING:root:&lt;RetryCallState 140256866511328: attempt #1; slept for 0.0; last result: failed (InvalidRequestError The model `gpt-4` does not exist or you do not have access to it. Learn more: https://help.openai.com/en/articles/7102672-how-can-i-access-gpt-4.)
</code></pre>
<p>It turns out that I had not been using OpenAI enough, so had not made the required minimum payments to qualify for gpt-4. The link shows you how you can resolve this by setting up a payment plan. It was odd because I already had a payment plan, and it was not providing me with the options on the way page. In the end I had to look through the documentation to figure a way of changing the default model being called by Griptape (gpt-4) which is what I documented above.</p>
<p><em>AWS Cloud 9 errors</em></p>
<p>If you run into the following error when trying to deploy the Falcon7b model using the Python code</p>
<pre><code>botocore.errorfactory.NoSuchEntityException: An error occurred (NoSuchEntity) when calling the GetRole operation: The role with name Sagemaker-Endpoint-Creation-Role cannot be found.


botocore.exceptions.ClientError: An error occurred (InvalidClientTokenId) when calling the CreateRole operation: The security token included in the request is invalid
</code></pre>
<p>The fix is to disable the default behaviour of AWS Cloud9 in managing temporary credentials (you can disable this via the Preferences &gt; AWS Settings, and then disable the &ldquo;AWS managed temporary credentials&rdquo;). Once you have done this, you will then need to configure AWS credentials (using aws configure). Once completed, I reverted back to AWS Cloud9 managing temporary credentials.</p>

  </main>

          <div class="social-heading">
            <div class="footer-social">
  
    <div class="social-icon">
      <a href="https://twitter.com/094459" target="_blank" title="Twitter">
        <svg xmlns="http://www.w3.org/2000/svg"
aria-label="Twitter" role="img"
viewBox="0 0 512 512"><rect
width="512" height="512"
rx="15%"
fill="#1da1f3"/><path fill="#fff" d="M437 152a72 72 0 0 1-40 12 72 72 0 0 0 32-40 72 72 0 0 1-45 17 72 72 0 0 0-122 65 200 200 0 0 1-145-74 72 72 0 0 0 22 94 72 72 0 0 1-32-7 72 72 0 0 0 56 69 72 72 0 0 1-32 1 72 72 0 0 0 67 50 200 200 0 0 1-105 29 200 200 0 0 0 309-179 200 200 0 0 0 35-37"/></svg>
      </a>
    </div>
  
  
  
    <div class="social-icon">
      <a href="https://github.com/094459" target="_blank" title="GitHub">
        <svg xmlns="http://www.w3.org/2000/svg"
aria-label="GitHub" role="img"
viewBox="0 0 512 512"><rect
width="512" height="512"
rx="15%"
fill="#1B1817"/><path fill="#fff" d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"/></svg>
      </a>
    </div>
  
  
    <div class="social-icon">
      <a href="https://www.linkedin.com/in/ricardosueiras" target="_blank" title="Linkedin">
        <svg xmlns="http://www.w3.org/2000/svg"
aria-label="LinkedIn" role="img"
viewBox="0 0 512 512"
fill="#fff"><rect
width="512" height="512"
rx="15%"
fill="#0077b5"/><circle cx="142" cy="138" r="37"/><path stroke="#fff" stroke-width="66" d="M244 194v198M142 194v198"/><path d="M276 282c0-20 13-40 36-40 24 0 33 18 33 45v105h66V279c0-61-32-89-76-89-34 0-51 19-59 32"/></svg>
      </a>
    </div>
  
  
  
    <div class="social-icon">
      <a href="https://www.reddit.com/r/aws" target="_blank" title="Reddit">
        <svg xmlns="http://www.w3.org/2000/svg"
aria-label="Reddit" role="img"
viewBox="0 0 512 512"><rect
width="512" height="512"
rx="15%"
fill="#f40"/><g fill="#fff"><ellipse cx="256" cy="307" rx="166" ry="117"/><circle cx="106" cy="256" r="42"/><circle cx="407" cy="256" r="42"/><circle cx="375" cy="114" r="32"/></g><g stroke-linecap="round" stroke-linejoin="round" fill="none"><path d="m256 196 23-101 73 15" stroke="#fff" stroke-width="16"/><path d="m191 359c33 25 97 26 130 0" stroke="#f40" stroke-width="13"/></g><g fill="#f40"><circle cx="191" cy="287" r="31"/><circle cx="321" cy="287" r="31"/></g></svg>
      </a>
    </div>
  
  
  
  
  
  
  
  
    <div class="social-icon">
      <a href="mailto:ricsue@amazon.com" title="Email">
        <svg xmlns="http://www.w3.org/2000/svg"
aria-label="Email" role="img"
viewBox="0 0 512 512"><rect
width="512" height="512"
rx="15%"
fill="teal"/><rect width="356" height="256" x="78" y="128" fill="#fff" rx="8%"/><path fill="none" stroke="teal" stroke-width="20" d="M434 128L269 292c-7 8-19 8-26 0L78 128m0 256l129-128m227 128L305 256"/></svg>
      </a>
    </div>
  
  
</div>

          </div>
          <footer role="contentinfo">
  <div class="social-footer">
    <div class="footer-social">
  
    <div class="social-icon">
      <a href="https://twitter.com/094459" target="_blank" title="Twitter">
        <svg xmlns="http://www.w3.org/2000/svg"
aria-label="Twitter" role="img"
viewBox="0 0 512 512"><rect
width="512" height="512"
rx="15%"
fill="#1da1f3"/><path fill="#fff" d="M437 152a72 72 0 0 1-40 12 72 72 0 0 0 32-40 72 72 0 0 1-45 17 72 72 0 0 0-122 65 200 200 0 0 1-145-74 72 72 0 0 0 22 94 72 72 0 0 1-32-7 72 72 0 0 0 56 69 72 72 0 0 1-32 1 72 72 0 0 0 67 50 200 200 0 0 1-105 29 200 200 0 0 0 309-179 200 200 0 0 0 35-37"/></svg>
      </a>
    </div>
  
  
  
    <div class="social-icon">
      <a href="https://github.com/094459" target="_blank" title="GitHub">
        <svg xmlns="http://www.w3.org/2000/svg"
aria-label="GitHub" role="img"
viewBox="0 0 512 512"><rect
width="512" height="512"
rx="15%"
fill="#1B1817"/><path fill="#fff" d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"/></svg>
      </a>
    </div>
  
  
    <div class="social-icon">
      <a href="https://www.linkedin.com/in/ricardosueiras" target="_blank" title="Linkedin">
        <svg xmlns="http://www.w3.org/2000/svg"
aria-label="LinkedIn" role="img"
viewBox="0 0 512 512"
fill="#fff"><rect
width="512" height="512"
rx="15%"
fill="#0077b5"/><circle cx="142" cy="138" r="37"/><path stroke="#fff" stroke-width="66" d="M244 194v198M142 194v198"/><path d="M276 282c0-20 13-40 36-40 24 0 33 18 33 45v105h66V279c0-61-32-89-76-89-34 0-51 19-59 32"/></svg>
      </a>
    </div>
  
  
  
    <div class="social-icon">
      <a href="https://www.reddit.com/r/aws" target="_blank" title="Reddit">
        <svg xmlns="http://www.w3.org/2000/svg"
aria-label="Reddit" role="img"
viewBox="0 0 512 512"><rect
width="512" height="512"
rx="15%"
fill="#f40"/><g fill="#fff"><ellipse cx="256" cy="307" rx="166" ry="117"/><circle cx="106" cy="256" r="42"/><circle cx="407" cy="256" r="42"/><circle cx="375" cy="114" r="32"/></g><g stroke-linecap="round" stroke-linejoin="round" fill="none"><path d="m256 196 23-101 73 15" stroke="#fff" stroke-width="16"/><path d="m191 359c33 25 97 26 130 0" stroke="#f40" stroke-width="13"/></g><g fill="#f40"><circle cx="191" cy="287" r="31"/><circle cx="321" cy="287" r="31"/></g></svg>
      </a>
    </div>
  
  
  
  
  
  
  
  
    <div class="social-icon">
      <a href="mailto:ricsue@amazon.com" title="Email">
        <svg xmlns="http://www.w3.org/2000/svg"
aria-label="Email" role="img"
viewBox="0 0 512 512"><rect
width="512" height="512"
rx="15%"
fill="teal"/><rect width="356" height="256" x="78" y="128" fill="#fff" rx="8%"/><path fill="none" stroke="teal" stroke-width="20" d="M434 128L269 292c-7 8-19 8-26 0L78 128m0 256l129-128m227 128L305 256"/></svg>
      </a>
    </div>
  
  
</div>

    <label for="themer">
      dark theme: <input type="checkbox" id="themer" class="vh">
      <span aria-hidden="true"></span>
    </label>
  </div>
  
    <p class="margin-top-none">Copyright &copy; <span id="copyright-year"></span> - Ricardo Sueiras</p>
  
  
    <p class="margin-top-none">
    Made with <a href="https://gohugo.io/">Hugo</a>. Themed by <a href="https://github.com/zwbetz-gh/cupper-hugo-theme">Cupper</a>.
    </p>
  
</footer>
<script>
    var year = new Date().getFullYear()
    document.getElementById("copyright-year").innerHTML = year;
</script>

        </div>
      </div>
    </div>
    <script src="https://blog.beachgeek.co.uk/js/prism.js"></script>



<script src="https://blog.beachgeek.co.uk/js/dom-scripts.js"></script>



<script src="/js/search.7aef046a0cc8b0c532f1d20087b920459bc868c936bb48a6ae221eceefca2d07.js"></script>



    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.min.css" integrity="sha384-dbVIfZGuN1Yq7/1Ocstc1lUEm+AT+/rCkibIcC/OmWo5f0EA48Vf8CytHzGrSwbQ" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.min.js" integrity="sha384-2BKqo+exmr9su6dir+qCw08N2ZKRucY4PrGQPPWU1A7FtlCGjmEGFqXCv5nyM5Ij" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>

  </body>
</html>
