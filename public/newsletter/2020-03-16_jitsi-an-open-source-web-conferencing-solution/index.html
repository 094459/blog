<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <meta name="generator" content="Hugo 0.91.2" />
  <link rel="canonical" href="https://example.com/newsletter/2020-03-16_jitsi-an-open-source-web-conferencing-solution/">

  

  
    
    
    
    
    

  
    <link rel="webmention" href="https://webmention.io/username.co.uk/webmention" />
    <link rel="pingback" href="https://webmention.io/username.co.uk/xmlrpc" />



  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#000000">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="theme-color" content="#ffffff">

  <link rel="stylesheet" href="https://example.com/css/syntax.css" media="none" onload="this.media='all';">

  
  
  <link rel="stylesheet" type="text/css" href="https://example.com/css/styles.css">

  
  
  <link rel="stylesheet" type="text/css" href="https://example.com/style.main.css">

  

  <link rel="alternate" rel="canonical" href="https://example.com/index.xml" >
  
  <style id="inverter" media="none">
    .intro-and-nav, .main-and-footer { filter: invert(100%) }
    * { background-color: inherit }
    img:not([src*=".svg"]), .colors, iframe, .demo-container { filter: invert(100%) }
  </style>

  
  
  <title>Jitsi: An open source web conferencing solution | Beachgeek blog - a refuge for pineapple on pizza lovers</title>

  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Jitsi: An open source web conferencing solution"/>
<meta name="twitter:description" content="Enabling online team collaboration with open source software Teams across the world are looking for solutions that help them to work and collaborate online in these unprecedented times. There are many options that customers have, so this post will help provide you with some options if you are looking.
Many teams choose to use managed solutions to enable collaboration. If your business needs to scale to support hundreds or thousands of users simultaneously or does not want to deploy and manage new web services for this purpose, consider using Amazon Chime."/>

  <meta name="twitter:card" content="summary" />
</head>

  <body>
    <a href="#main">skip to content</a>
    <svg style="display: none">
  <symbol id="bookmark" viewBox="0 0 40 50">
   <g transform="translate(2266 3206.2)">
    <path style="stroke:currentColor;stroke-width:3.2637;" d="m-2262.2-3203.4-.2331 42.195 16.319-16.318 16.318 16.318.2331-42.428z"/>
   </g>
  </symbol>

  <symbol id="w3c" viewBox="0 0 127.09899 67.763">
   <text font-size="83" style="font-size:83px;font-family:Trebuchet;letter-spacing:-12;fill-opacity:0" letter-spacing="-12" y="67.609352" x="-26.782778">W3C</text>
   <text font-size="83" style="font-size:83px;font-weight:bold;font-family:Trebuchet;fill-opacity:0" y="67.609352" x="153.21722" font-weight="bold">SVG</text>
   <path style="fill:currentColor;image-rendering:optimizeQuality;shape-rendering:geometricPrecision" d="m33.695.377 12.062 41.016 12.067-41.016h8.731l-19.968 67.386h-.831l-12.48-41.759-12.479 41.759h-.832l-19.965-67.386h8.736l12.061 41.016 8.154-27.618-3.993-13.397h8.737z"/>
   <path style="fill:currentColor;image-rendering:optimizeQuality;shape-rendering:geometricPrecision" d="m91.355 46.132c0 6.104-1.624 11.234-4.862 15.394-3.248 4.158-7.45 6.237-12.607 6.237-3.882 0-7.263-1.238-10.148-3.702-2.885-2.47-5.02-5.812-6.406-10.022l6.82-2.829c1.001 2.552 2.317 4.562 3.953 6.028 1.636 1.469 3.56 2.207 5.781 2.207 2.329 0 4.3-1.306 5.909-3.911 1.609-2.606 2.411-5.738 2.411-9.401 0-4.049-.861-7.179-2.582-9.399-1.995-2.604-5.129-3.912-9.397-3.912h-3.327v-3.991l11.646-20.133h-14.062l-3.911 6.655h-2.493v-14.976h32.441v4.075l-12.31 21.217c4.324 1.385 7.596 3.911 9.815 7.571 2.22 3.659 3.329 7.953 3.329 12.892z"/>
   <path style="fill:currentColor;image-rendering:optimizeQuality;shape-rendering:geometricPrecision" d="m125.21 0 1.414 8.6-5.008 9.583s-1.924-4.064-5.117-6.314c-2.693-1.899-4.447-2.309-7.186-1.746-3.527.73-7.516 4.938-9.258 10.13-2.084 6.21-2.104 9.218-2.178 11.978-.115 4.428.58 7.043.58 7.043s-3.04-5.626-3.011-13.866c.018-5.882.947-11.218 3.666-16.479 2.404-4.627 5.954-7.404 9.114-7.728 3.264-.343 5.848 1.229 7.841 2.938 2.089 1.788 4.213 5.698 4.213 5.698l4.94-9.837z"/>
   <path style="fill:currentColor;image-rendering:optimizeQuality;shape-rendering:geometricPrecision" d="m125.82 48.674s-2.208 3.957-3.589 5.48c-1.379 1.524-3.849 4.209-6.896 5.555-3.049 1.343-4.646 1.598-7.661 1.306-3.01-.29-5.807-2.032-6.786-2.764-.979-.722-3.486-2.864-4.897-4.854-1.42-2-3.634-5.995-3.634-5.995s1.233 4.001 2.007 5.699c.442.977 1.81 3.965 3.749 6.572 1.805 2.425 5.315 6.604 10.652 7.545 5.336.945 9.002-1.449 9.907-2.031.907-.578 2.819-2.178 4.032-3.475 1.264-1.351 2.459-3.079 3.116-4.108.487-.758 1.276-2.286 1.276-2.286l-1.276-6.644z"/>
  </symbol>

  <symbol id="tag" viewBox="0 0 177.16535 177.16535">
    <g transform="translate(0 -875.2)">
     <path style="fill-rule:evenodd;stroke-width:0;fill:currentColor" d="m159.9 894.3-68.79 8.5872-75.42 77.336 61.931 60.397 75.429-76.565 6.8495-69.755zm-31.412 31.835a10.813 10.813 0 0 1 1.8443 2.247 10.813 10.813 0 0 1 -3.5174 14.872l-.0445.0275a10.813 10.813 0 0 1 -14.86 -3.5714 10.813 10.813 0 0 1 3.5563 -14.863 10.813 10.813 0 0 1 13.022 1.2884z"/>
    </g>
  </symbol>

  <symbol id="balloon" viewBox="0 0 141.73228 177.16535">
   <g transform="translate(0 -875.2)">
    <g>
     <path style="fill:currentColor" d="m68.156 882.83-.88753 1.4269c-4.9564 7.9666-6.3764 17.321-5.6731 37.378.36584 10.437 1.1246 23.51 1.6874 29.062.38895 3.8372 3.8278 32.454 4.6105 38.459 4.6694-.24176 9.2946.2879 14.377 1.481 1.2359-3.2937 5.2496-13.088 8.886-21.623 6.249-14.668 8.4128-21.264 10.253-31.252 1.2464-6.7626 1.6341-12.156 1.4204-19.764-.36325-12.93-2.1234-19.487-6.9377-25.843-2.0833-2.7507-6.9865-7.6112-7.9127-7.8436-.79716-.20019-6.6946-1.0922-6.7755-1.0248-.02213.0182-5.0006-.41858-7.5248-.22808l-2.149-.22808h-3.3738z"/>
     <path style="fill:currentColor" d="m61.915 883.28-3.2484.4497c-1.7863.24724-3.5182.53481-3.8494.63994-2.4751.33811-4.7267.86957-6.7777 1.5696-.28598 0-1.0254.20146-2.3695.58589-5.0418 1.4418-6.6374 2.2604-8.2567 4.2364-6.281 7.6657-11.457 18.43-12.932 26.891-1.4667 8.4111.71353 22.583 5.0764 32.996 3.8064 9.0852 13.569 25.149 22.801 37.517 1.3741 1.841 2.1708 2.9286 2.4712 3.5792 3.5437-1.1699 6.8496-1.9336 10.082-2.3263-1.3569-5.7831-4.6968-21.86-6.8361-33.002-.92884-4.8368-2.4692-14.322-3.2452-19.991-.68557-5.0083-.77707-6.9534-.74159-15.791.04316-10.803.41822-16.162 1.5026-21.503 1.4593-5.9026 3.3494-11.077 6.3247-15.852z"/>
     <path style="fill:currentColor" d="m94.499 885.78c-.10214-.0109-.13691 0-.0907.0409.16033.13489 1.329 1.0675 2.5976 2.0723 6.7003 5.307 11.273 14.568 12.658 25.638.52519 4.1949.24765 14.361-.5059 18.523-2.4775 13.684-9.7807 32.345-20.944 53.519l-3.0559 5.7971c2.8082.76579 5.7915 1.727 8.9926 2.8441 11.562-11.691 18.349-19.678 24.129-28.394 7.8992-11.913 11.132-20.234 12.24-31.518.98442-10.02-1.5579-20.876-6.7799-28.959-.2758-.4269-.57803-.86856-.89617-1.3166-3.247-6.13-9.752-12.053-21.264-16.131-2.3687-.86369-6.3657-2.0433-7.0802-2.1166z"/>
     <path style="fill:currentColor" d="m32.52 892.22c-.20090-.13016-1.4606.81389-3.9132 2.7457-11.486 9.0476-17.632 24.186-16.078 39.61.79699 7.9138 2.4066 13.505 5.9184 20.562 5.8577 11.77 14.749 23.219 30.087 38.74.05838.059.12188.1244.18052.1838 1.3166-.5556 2.5965-1.0618 3.8429-1.5199-.66408-.32448-1.4608-1.3297-3.8116-4.4602-5.0951-6.785-8.7512-11.962-13.051-18.486-5.1379-7.7948-5.0097-7.5894-8.0586-13.054-6.2097-11.13-8.2674-17.725-8.6014-27.563-.21552-6.3494.13041-9.2733 1.775-14.987 2.1832-7.5849 3.9273-10.986 9.2693-18.07 1.7839-2.3656 2.6418-3.57 2.4409-3.7003z"/>
     <path style="fill:currentColor" d="m69.133 992.37c-6.2405.0309-12.635.76718-19.554 2.5706 4.6956 4.7759 9.935 10.258 12.05 12.625l4.1272 4.6202h11.493l3.964-4.4516c2.0962-2.3541 7.4804-7.9845 12.201-12.768-8.378-1.4975-16.207-2.6353-24.281-2.5955z"/>
     <rect style="stroke-width:0;fill:currentColor" ry="2.0328" height="27.746" width="22.766" y="1017.7" x="60.201"/>
    </g>
   </g>
  </symbol>

  <symbol id="info" viewBox="0 0 41.667 41.667">
   <g transform="translate(-37.035 -1004.6)">
    <path style="stroke-linejoin:round;stroke:currentColor;stroke-linecap:round;stroke-width:3.728;fill:none" d="m76.25 1030.2a18.968 18.968 0 0 1 -23.037 13.709 18.968 18.968 0 0 1 -13.738 -23.019 18.968 18.968 0 0 1 23.001 -13.768 18.968 18.968 0 0 1 13.798 22.984"/>
    <g transform="matrix(1.1146 0 0 1.1146 -26.276 -124.92)">
     <path style="stroke:currentColor;stroke-linecap:round;stroke-width:3.728;fill:none" d="m75.491 1039.5v-8.7472"/>
     <path style="stroke-width:0;fill:currentColor" transform="scale(-1)" d="m-73.193-1024.5a2.3719 2.3719 0 0 1 -2.8807 1.7142 2.3719 2.3719 0 0 1 -1.718 -2.8785 2.3719 2.3719 0 0 1 2.8763 -1.7217 2.3719 2.3719 0 0 1 1.7254 2.8741"/>
    </g>
   </g>
  </symbol>

  <symbol id="warning" viewBox="0 0 48.430474 41.646302">
    <g transform="translate(-1.1273 -1010.2)">
     <path style="stroke-linejoin:round;stroke:currentColor;stroke-linecap:round;stroke-width:4.151;fill:none" d="m25.343 1012.3-22.14 37.496h44.28z"/>
     <path style="stroke:currentColor;stroke-linecap:round;stroke-width:4.1512;fill:none" d="m25.54 1027.7v8.7472"/>
     <path style="stroke-width:0;fill:currentColor" d="m27.839 1042.8a2.3719 2.3719 0 0 1 -2.8807 1.7143 2.3719 2.3719 0 0 1 -1.718 -2.8785 2.3719 2.3719 0 0 1 2.8763 -1.7217 2.3719 2.3719 0 0 1 1.7254 2.8741"/>
    </g>
  </symbol>

  <symbol id="menu" viewBox="0 0 50 50">
     <rect style="stroke-width:0;fill:currentColor" height="10" width="50" y="0" x="0"/>
     <rect style="stroke-width:0;fill:currentColor" height="10" width="50" y="20" x="0"/>
     <rect style="stroke-width:0;fill:currentColor" height="10" width="50" y="40" x="0"/>
   </symbol>

   <symbol id="link" viewBox="0 0 50 50">
    <g transform="translate(0 -1002.4)">
     <g transform="matrix(.095670 0 0 .095670 2.3233 1004.9)">
      <g>
       <path style="stroke-width:0;fill:currentColor" d="m452.84 192.9-128.65 128.65c-35.535 35.54-93.108 35.54-128.65 0l-42.881-42.886 42.881-42.876 42.884 42.876c11.845 11.822 31.064 11.846 42.886 0l128.64-128.64c11.816-11.831 11.816-31.066 0-42.9l-42.881-42.881c-11.822-11.814-31.064-11.814-42.887 0l-45.928 45.936c-21.292-12.531-45.491-17.905-69.449-16.291l72.501-72.526c35.535-35.521 93.136-35.521 128.64 0l42.886 42.881c35.535 35.523 35.535 93.141-.001 128.66zm-254.28 168.51-45.903 45.9c-11.845 11.846-31.064 11.817-42.881 0l-42.884-42.881c-11.845-11.821-11.845-31.041 0-42.886l128.65-128.65c11.819-11.814 31.069-11.814 42.884 0l42.886 42.886 42.876-42.886-42.876-42.881c-35.54-35.521-93.113-35.521-128.65 0l-128.65 128.64c-35.538 35.545-35.538 93.146 0 128.65l42.883 42.882c35.51 35.54 93.11 35.54 128.65 0l72.496-72.499c-23.956 1.597-48.092-3.784-69.474-16.283z"/>
      </g>
     </g>
    </g>
  </symbol>

  <symbol id="doc" viewBox="0 0 35 45">
   <g transform="translate(-147.53 -539.83)">
    <path style="stroke:currentColor;stroke-width:2.4501;fill:none" d="m149.38 542.67v39.194h31.354v-39.194z"/>
    <g style="stroke-width:25" transform="matrix(.098003 0 0 .098003 133.69 525.96)">
     <path d="m220 252.36h200" style="stroke:currentColor;stroke-width:25;fill:none"/>
     <path style="stroke:currentColor;stroke-width:25;fill:none" d="m220 409.95h200"/>
     <path d="m220 488.74h200" style="stroke:currentColor;stroke-width:25;fill:none"/>
     <path d="m220 331.15h200" style="stroke:currentColor;stroke-width:25;fill:none"/>
    </g>
   </g>
 </symbol>

 <symbol id="tick" viewBox="0 0 177.16535 177.16535">
  <g transform="translate(0 -875.2)">
   <rect style="stroke-width:0;fill:currentColor" transform="rotate(30)" height="155" width="40" y="702.99" x="556.82"/>
   <rect style="stroke-width:0;fill:currentColor" transform="rotate(30)" height="40" width="90.404" y="817.99" x="506.42"/>
  </g>
 </symbol>
</svg>

    <div class="wrapper">
      <header class="intro-and-nav" role="banner">
  <div>
    <div class="intro">
      <a class="logo" href="https://example.com" aria-label="Beachgeek blog - a refuge for pineapple on pizza lovers home page">
        <img src="https://example.com/images/logo.svg" alt="My site icon">
      </a>
      <p class="library-desc">
         Technologist and Maker specialising in Cloud, Open Source and Innovation &amp; Emerging Technologies. 
      </p>
    </div>
    <nav id="patterns-nav" class="patterns" role="navigation">
  <h2 class="vh">Main navigation</h2>
  <button id="menu-button" aria-expanded="false">
    <svg viewBox="0 0 50 50" aria-hidden="true" focusable="false">
      <use xlink:href="#menu"></use>
    </svg>
    Menu
  </button>
  
  <ul id="patterns-list">
  
    <li class="pattern">
      
      
      
      
      <a href="/" >
        <svg class="bookmark-icon" aria-hidden="true" focusable="false" viewBox="0 0 40 50">
          <use xlink:href="#bookmark"></use>
        </svg>
        <span class="text">Home</span>
      </a>
    </li>
  
    <li class="pattern">
      
      
      
      
      <a href="/newsletter/" >
        <svg class="bookmark-icon" aria-hidden="true" focusable="false" viewBox="0 0 40 50">
          <use xlink:href="#bookmark"></use>
        </svg>
        <span class="text">Newsletter</span>
      </a>
    </li>
  
    <li class="pattern">
      
      
      
      
      <a href="/tags/" >
        <svg class="bookmark-icon" aria-hidden="true" focusable="false" viewBox="0 0 40 50">
          <use xlink:href="#bookmark"></use>
        </svg>
        <span class="text">Tags</span>
      </a>
    </li>
  
    <li class="pattern">
      
      
      
      
      <a href="/about/" >
        <svg class="bookmark-icon" aria-hidden="true" focusable="false" viewBox="0 0 40 50">
          <use xlink:href="#bookmark"></use>
        </svg>
        <span class="text">About</span>
      </a>
    </li>
  
    <li class="pattern">
      
      
      
      
      <a href="/index.xml" >
        <svg class="bookmark-icon" aria-hidden="true" focusable="false" viewBox="0 0 40 50">
          <use xlink:href="#bookmark"></use>
        </svg>
        <span class="text">RSS</span>
      </a>
    </li>
  
  </ul>
</nav>
  </div>
</header>

      <div class="main-and-footer">
        <div>
          
  <main id="main">
    <h1>Jitsi: An open source web conferencing solution</h1>
    <h1 id="enabling-online-team-collaboration-with-open-source-software">Enabling online team collaboration with open source software</h1>
<p>Teams across the world are looking for solutions that help them to work and collaborate online in these unprecedented times. There are many options that customers have, so this post will help provide you with some options if you are looking.</p>
<p>Many teams choose to use managed solutions to enable collaboration. If your business needs to scale to support hundreds or thousands of users simultaneously or does not want to deploy and manage new web services for this purpose, consider using Amazon Chime. Amazon Chime is a communications service hosted on AWS that lets you get started in just a few clicks. It allows you to meet, chat, and place business calls inside and outside your organisation, all using a single application. With Amazon Chime, you have the flexibility to choose the features that you need for online meetings, video conferencing, and business calling, and pay only when you use them. To learn more Amazon Chime, visit <a href="https://aws.amazon.com/chime">https://aws.amazon.com/chime</a>.</p>
<p>Some business however, may prefer to use open source technologies to enable this. Jitsi is one such open source project that enables a rich online web conferencing capability. The rest of this post is a technical walkthrough of how you can host your own instances of Jitsi to enable  this.</p>
<h2 id="introducing-jitsi">Introducing Jitsi</h2>
<p>Jitsi is an open source web conference application built using JavaScript. You might find this useful if you are looking for tools to help you and your teams as you work remotely. You can check out the project <a href="https://github.com/jitsi/jitsi-meet">here</a>, but in this walk through will enable you to host your own version of this application. I will help you through installing this project on AWS and you should be able to deploy this to any AWS region nearest to you and the users you want to communicate with.</p>
<blockquote>
<p><strong>History of Jitsi</strong></p>
<p>A number of people who are discovering Jitsi today are curious about its origins. The project dates back all the way to 2003: the glorious early days of Voice Over IP (VoIP) when best practices for media transport were still being worked out as people were battling NAT traversal issues and the plague of one way audio calls.</p>
<p>Jitsi was one of the first fully open source communications options with a strong accent on security and privacy. It was, for example, one of the earliest options for people to jump on fully end-to-end ZRTP encrypted calls.</p>
<p>In late 2013, with the arrival of WebRTC, Jitsi migrated to the cloud with its Jitsi Videobridge (some small fragments of that code still date back to the very early days although most have been completely rewritten multiple times) and the rest of its web conferencing components like Jitsi Meet.</p>
<p>Jitsi kept its strong focus on security and is today arguably the easiest options to spin out a fully private and secure conferencing server (which is what we are explaining in this post). It has gained adoption by privacy sensitive users all around the world, including the Freedom of Press Foundation (wired article), among others.</p>
<p>The majority of Jitsi’s contributors are employed by cloud communications provider 8x8(www8x8.com) that also operates Jitsi’s popular sample deployment at meet.jit.si</p>
</blockquote>
<p>This walk through will enable you to host your own version of this application, with the corefunctionality. I have provided two walk throughs; one for those who want to run this via Amazon EC2 instances, and the other for those who prefer to use containers, so running this through the Amazon ECS.</p>
<blockquote>
<p>If you want the advanced functionality then you should work with the maintainers behind Jitsi, or follow the documentation to setup those advanced features on the github repository. Those are outside the scope of this post.</p>
</blockquote>
<p>Lets begin with the Amazon EC2 walkthrough; if that is not your thing, jump ahead to the Amazon ECS walkthrough.</p>
<h1 id="deploying-jitsi-on-amazon-ec2">Deploying Jitsi on Amazon EC2</h1>
<h2 id="what-you-will-need">What you will need</h2>
<p>You will need the following things to complete this walkthrough.</p>
<ul>
<li>AWS Account - you will be configuring services so you need an account with a user that can provision those services</li>
<li>A DNS provider - this is needed to obtain an SSL certificate. You can use Amazon Route 53 or other DNS provider.</li>
</ul>
<blockquote>
<p>If you skip this step you will be able to get Jitsi up and rnning, but you will then have to deal with potential issues with your users having SSL errors in the browser, as well as issues with the webcam and microphone not working.</p>
</blockquote>
<h2 id="provision-your-amazon-ec2-instance">Provision your Amazon EC2 instance</h2>
<p>The first thing you need is to create a running Linux instance on which to run your Jitsi server.</p>
<h3 id="1-ssh-keypair">1. SSH keypair</h3>
<p>[Optional - if you already have SSH keypairs, you can use an existing one]</p>
<p>Create a keypair that you will use to ssh into your Jitsi server. From the EC2 console, on the left hand side click on <strong>Key Pairs</strong> and then use the CREATE button to create a PEM (default option) key pair.</p>
<blockquote>
<p>Note! If you are using Windows and likely using Putty, use the ppk key format.</p>
</blockquote>
<p>Click on the CREATE KEY PAIR button and then make sure you save the key that pops up on your machine. Keep this safe. You will need to change the permissions of this file</p>
<blockquote>
<p>Tip! Key pairs are regional, so make sure you match up the key pair you generate with the region you are going to launch your EC2 instances into.</p>
</blockquote>
<p><strong>Important!</strong>
Secure access to your EC2 instance. Make sure that you do NOT open up port ssh (22) to the world. Either limit it to just your IP address, or better still, use an existing bastion or jump host you have setup to do this. If you are not sure about this, then ask via the comments below and I will walk you through this.</p>
<h3 id="2-launch-instance">2. Launch instance</h3>
<p>Before you launch the instance, you need to think about the instance type you want to select and how much this will cost. Jitsi needs a fair bit of memory, so using the micro instances will not work without tuning/hacking and that is outside the scope of this post.</p>
<p>As a minimum I would go for 1 CPU and 8GB of memory, but you can go with AMD instances. I have not tried Graviton ARM based instances, but that will be something to try - it all depends on whether the application binaries have been compiled for ARM and are in the application repositories. If you try this let me know.</p>
<p>In this walkthrough, I use the T3.large instances - these provide 2vCPUs and 8GB of memory. This should support a small number of people using this. You might want to consider a couple of things when sizing your instances;</p>
<ul>
<li>the CPU/Memory combinations increasing with the number of users</li>
<li>the network performance. The T instances have 5 Gbps, but you might get much better performance with the other instances types that go up to 25 Gbps</li>
</ul>
<p><strong>Instance launch instructions</strong></p>
<ol>
<li>From the AWS console, select the region you want to deploy your Jitsi server to (and making sure it matches where you have the key pair)</li>
<li>Go to the EC2 console, and select INSTANCES</li>
<li>Click on LAUNCH INSTANCE</li>
<li>In the search box type &ldquo;Ubuntu&rdquo; and hit return. Select the Ubuntu 18.04 LTS.</li>
<li>In the instance type, select the instance type you have decided (the bit above) and then click NEXT:CONFIGURE INSTANCE DETAILS</li>
<li>Accept defaults on the next page and click on NEXT: ADD STORAGE</li>
<li>Accept defaults on the next page and click on NEXT: ADD TAGS</li>
<li>Accept defaults on the next page and click on NEXT: ADD SECURITY GROUPS</li>
<li>Change the security group name to: JITSI-SECURITY-GROUP</li>
<li>Change the SSH SOURCE to your IP address (or your bastion host if you are using that)</li>
<li>Add HTTP and HTTPS rules from source ANYWHERE</li>
<li>Add custom TCP port 4443 rule from source ANYWHERE</li>
<li>Add custom UDP port 10000 rule from source ANYWHERE</li>
<li>Click on NEXT:REVIEW and LAUNCH</li>
<li>Click on LAUNCH</li>
<li>On the pop up select from the list the ssh key you created and tick the acknowledge.</li>
<li>Click on LAUNCH INSTANCE to kick off the creation, and on the following screen click on VIEW INSTANCES</li>
</ol>
<p>It will take a few minutes for this to provision and setup. On the console, once your instance changes to status checks <strong>RUNNING</strong> and <strong>2/2 checks passed</strong> you have completed the launch of your instance.</p>
<p>To the left of this, you should see an entry for <strong>INSTANCE ID</strong> - you will need this in the next section, so note this down.</p>
<p><strong>Allocate Elastic IP</strong></p>
<p>To ensure that your instance keeps its IP during re-starts that might happen, configure an Elastic IP. From the EC2 console;</p>
<ol>
<li>Select ELASTIC IP&rsquo;s</li>
<li>Click on the ALLOCATE ELASTIC IP ADDRESS</li>
<li>Select the default (Amazon pool of IPv4 addresses) and click on ALLOCATE</li>
<li>From the ACTIONS pull down, select ASSOCIATE ELASTIC IP ADDRESS</li>
<li>In the box that comes up, note down the &ldquo;Elastic IP Address&rdquo; - this will be needed when you configure your DNS</li>
<li>In the search box under INSTANCE, click and find your INSTANCE ID and then click ASSOCIATE</li>
</ol>
<p>Your instance now has an elastic IP associated with it.</p>
<h2 id="setup-your-dns">Setup your DNS</h2>
<p>[This step is optional but highly recommended. You can proceed without DNS, and you will configure your Jitsi server to use an IP address when accessing it. However, you will not be able to configure SSL certs successfully and your users may experience usability/browser issues when connecting]</p>
<p>You will need to configure a DNS entry for the new host you have provisioned, so that it can be used to generate the SSL certificates as part of the installation process.</p>
<blockquote>
<p>Note! The LetsEncrypt script will do a reverse lookup and expect to resolve the name of this host from the IP. The process also expects this to be an A record. I have not tried to see what happens if you use an Alias or C record.</p>
</blockquote>
<p>Before proceeding, make sure that when you do a nslookup (or whatever your preferred DNS lookup tool might be) that the DNS record you created now resolves to the instance IP address. Do not proceed until this is the case.</p>
<h2 id="install-and-configure-jitsi">Install and configure Jitsi</h2>
<p>We can now being the business of installing and configuring Jitsi. ssh into your instance. You will use the ssh key to do this and your command will be something like;</p>
<pre><code>$ ssh -i {ssh-key} ubuntu@{ip address}
</code></pre>
<p>Where the {ssh-key} is the key you created, the the {ip-address} is the IP address of the instance that you launched. If you get a hang during this operation, you should check your security groups and your IP address as it is likely that your ssh is being blocked.</p>
<pre><code>$ sudo su - 
# echo 'deb https://download.jitsi.org stable/' &gt;&gt; /etc/apt/sources.list.d/jitsi-stable.list
# wget -qO -  https://download.jitsi.org/jitsi-key.gpg.key | apt-key add -
# apt-get update
</code></pre>
<p>This will take a few seconds/minutes to update all the local packages. Once this has completed, make some changes to your system.conf file to accommodate the needs of this application.</p>
<p>To update the values edit /etc/systemd/system.conf with your favourite editor (mine is vi)</p>
<pre><code># vi /etc/systemd/system.conf
</code></pre>
<p>and make sure you have the following values - you can either uncomment them in the file, or just add these to the end of the file (which I find easier to do)</p>
<pre><code>DefaultLimitNOFILE=65000
DefaultLimitNPROC=65000
DefaultTasksMax=65000
</code></pre>
<p>You will now need to reload the systemd to incorporate these changes, so run the following command;</p>
<pre><code>systemctl daemon-reload
</code></pre>
<p>Now install the Jitsi application using the following command.</p>
<pre><code># apt-get -y install jitsi-meet
</code></pre>
<p>This should take a minute, before being prompted with a nice pink screen to enter the hostname of the current installation. This is where you enter the DNS name you registered and now resolves to the host IP.</p>
<p>Once you have entered that, it will ask you whether you want to generate certificates or use existing ones. For this walkthrough, select the default option of generate certificates.</p>
<p>Once you hit return it should complete the installation process. It will not take more than a couple of minutes. You will see output similar to the following:</p>
<pre><code>Replacing debian:VeriSign_Universal_Root_Certification_Authority.pem
Replacing debian:Verisign_Class_3_Public_Primary_Certification_Authority_-_G3.pem
Replacing debian:Visa_eCommerce_Root.pem
Replacing debian:XRamp_Global_CA_Root.pem
Replacing debian:certSIGN_ROOT_CA.pem
Replacing debian:ePKI_Root_Certification_Authority.pem
Replacing debian:thawte_Primary_Root_CA.pem
Replacing debian:thawte_Primary_Root_CA_-_G2.pem
Replacing debian:thawte_Primary_Root_CA_-_G3.pem
Adding debian:auth.jitsi.beachgeek.co.uk.pem
done.
done.
Setting up jitsi-meet (1.0.4101-1) ...
Processing triggers for systemd (237-3ubuntu10.33) ...
Processing triggers for man-db (2.8.3-2ubuntu0.1) ...
Processing triggers for ca-certificates (20180409) ...
Updating certificates in /etc/ssl/certs...
0 added, 0 removed; done.
Running hooks in /etc/ca-certificates/update.d...

done.
done.
Processing triggers for ureadahead (0.100.0-21) ...
Processing triggers for libc-bin (2.27-3ubuntu1) ...
</code></pre>
<p>Once that has completed, you new to generate the certificates. From the command line run this</p>
<pre><code>/usr/share/jitsi-meet/scripts/install-letsencrypt-cert.sh
</code></pre>
<p>You will prompted for your email address, and once you have entered, the script will automate the process of requesting and installing the SSL certs. You will get output similar to the following:</p>
<pre><code>Obtaining a new certificate
Performing the following challenges:
http-01 challenge for {yourdomanin}
Waiting for verification...
Cleaning up challenges

IMPORTANT NOTES:
 - Congratulations! Your certificate and chain have been saved at:
   /etc/letsencrypt/live/jitsi.beachgeek.co.uk/fullchain.pem
   Your key file has been saved at:
   /etc/letsencrypt/live/{yourdomain}/privkey.pem
   Your cert will expire on 2020-06-04. To obtain a new or tweaked
   version of this certificate in the future, simply run certbot-auto
   again. To non-interactively renew *all* of your certificates, run
   &quot;certbot-auto renew&quot;
 - If you like Certbot, please consider supporting our work by:

   Donating to ISRG / Let's Encrypt:   https://letsencrypt.org/donate
   Donating to EFF:                    https://eff.org/donate-le
</code></pre>
<p>That is it - the application is now installed, SSL certificates configured and the application ready to go. The script shuts the server down, so you may need to restart this.</p>
<h2 id="managing-the-instance">Managing the instance</h2>
<p>To stop/start and check the status of the services, use the following commands;</p>
<pre><code>$ sudo service jitsi-videobridge restart
$ sudo service jitsi-videobridge stop
$ sudo service jitsi-videobridge start
$ sudo service jitsi-videobridge status
</code></pre>
<p>The key directories you need to be aware about are as follows:</p>
<ul>
<li><strong>/var/log/jitsi</strong> - this contains the java system logs as well as the application logs</li>
<li><strong>/usr/share/jitsi-meet</strong> - this contains the main application directory</li>
<li><strong>/etc/jitsi</strong> - system configuration files for all the components of Jitsi</li>
</ul>
<p>When you reboot, the services should all come up automatically when you start.</p>
<h2 id="optimizing-costs">Optimizing costs</h2>
<p>You probably dont need to run this 24x7, so consider using something like the <a href="https://aws.amazon.com/premiumsupport/knowledge-center/start-stop-lambda-cloudwatch/">Amazon EC2 instance scheduler</a> to automate the shutting down/restarting of the instance to save costs.</p>
<h2 id="deletinguninstalling">Deleting/uninstalling</h2>
<p>Once you do not need these capabilities, you should make sure that you remove the EC2 instance and the DNS records you have configured.</p>
<h2 id="advanced-installation">Advanced installation</h2>
<p>Refer to the project installation documents <a href="https://github.com/jitsi/jitsi-meet/blob/master/doc/quick-install.md">here</a> to get more details on how to configure Jitsi behind a NAT instance. I have tried to keep it simple in this walkthrough in order to minimise the cost of setting up and running an instance.</p>
<h2 id="automation-of-the-installation">Automation of the installation</h2>
<p>I will add this later, but I will provide some AWS Cloudformation templates that automate these steps and make it easier for you to get this up and running.</p>
<hr>
<h1 id="deploying-jitsi-on-aws-ecs">Deploying Jitsi on AWS ECS</h1>
<p><strong>Container instructions</strong></p>
<p>If you prefer to deploy Jitsi onto container infrastructure, the open source maintainers have your back here, and there is a repository that has docker instructions <a href="https://github.com/jitsi/docker-jitsi-meet">here</a>. I will use that as a starting point for deploying Jitsi on Amazon ECS.</p>
<blockquote>
<p>Note! This has been tested on Linux and MacOS. If you do not have access to Linux or a Mac OS, may I suggest you  try running this via a <strong>Cloud9 IDE</strong> environment - once you try it, you will never want to go back!. It might work on Windows, so let me know if you get into problems and I will try and help out.</p>
</blockquote>
<p>Jitsi provides a docker repository that allows you to very easily get this up and running on your local machine. We will use this as the base for creating the configuration files needed to build and deploy Jitsi on Amazon ECS.</p>
<h3 id="install-and-configure-pre-requisites">Install and configure pre-requisites</h3>
<p>You will need to install and setup to access your AWS environment;</p>
<ul>
<li>AWS Account - you will be configuring services so you need an account with a user that can provision those services</li>
<li>A DNS provider - this is needed to obtain an SSL certificate. You can use Amazon Route 53 or other DNS provider.</li>
</ul>
<p>You will also need the following tools. They are easily setup, make sure they are all the latest versions and up and running before proceeding.</p>
<ul>
<li>ECS-CLI - <a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ECS_CLI_installation.html">Install the AWS ECS client</a></li>
<li>Docker and Docker-compose</li>
</ul>
<h3 id="ssh-key-pair">SSH key pair</h3>
<p>[Optional - if you already have SSH key pairs, you can use an existing one] Create a key pair that you will use to ssh into your Jitsi server. From the EC2 console, on the left hand side click on <strong>Key Pairs</strong> and then use the CREATE button to create a PEM (default option) key pair.</p>
<blockquote>
<p>Note! If you are using Windows and likely using Putty, use the ppk key format.</p>
</blockquote>
<p>Click on the CREATE KEY PAIR button and then make sure you save the key that pops up on your machine. Keep this safe. You will need to change the permissions of this file</p>
<blockquote>
<p>Tip! Key pairs are regional, so make sure you match up the key pair you generate with the region you are going to launch your EC2 instances into.</p>
</blockquote>
<h3 id="modify-your-docker-composeyml">Modify your docker-compose.yml</h3>
<p>On your workstation, clone the repo in a clean folder;</p>
<pre><code>$ git clone https://github.com/jitsi/docker-jitsi-meet &amp;&amp; cd docker-jitsi-meet
$ cp env.example .env
</code></pre>
<p>You will now need to edit the docker-compose file and strip out all the VOLUME lines, so for example</p>
<pre><code>	networks:
		meet.jitsi: null
  	volumes:
      - /home/ubuntu/.jitsi-meet-cfg/jicofo:/config:rw
</code></pre>
<p>Would become</p>
<pre><code>	networks:
		meet.jitsi: null

</code></pre>
<p>(Your volume paths may vary, this was from my output.)</p>
<p>You should review the .env file you have created. The defaults are typically ok for the installation but you may want to change the values once you have become familiar with the setup.</p>
<p>So, you now have the necessary source files to begin the proper installation and configuration.</p>
<p>Create your Amazon ECS cluster using the following command. In this example, we will create an ECS cluster called jitsi-central hosted in the eu-central-1 region.</p>
<pre><code>$ ecs-cli configure --cluster jitsi-central --default-launch-type EC2 --region eu-central-1 --config-name jitsi-central
</code></pre>
<p>You will not get any output, but if you check your ~/.ecs/ folder, you will have a file which
will contain output like the following:</p>
<pre><code>version: v1
default: jitsi-central
clusters:
  jitsi-central:
    cluster: jitsi-central
    region: eu-central-1
    default_launch_type: EC2
</code></pre>
<p>Now run the following command to create the Cloudformation template and build the cluster. You will see here that we are using an EC2 key pair - this will allow you to ssh into these instances if you need to troubleshoot.</p>
<pre><code>$ ecs-cli up --keypair jitsi-central --capability-iam --size 1 --instance-type m4.xlarge --launch-type EC2
</code></pre>
<p>This should generate output like the following:</p>
<pre><code>INFO[0000] Using recommended Amazon Linux 2 AMI with ECS Agent 1.37.0 and Docker version 18.09.9-ce 
INFO[0000] Created cluster                               cluster=jitsi-central region=eu-central-1
INFO[0001] Waiting for your cluster resources to be created... 
INFO[0001] Cloudformation stack status                   stackStatus=CREATE_IN_PROGRESS
INFO[0061] Cloudformation stack status                   stackStatus=CREATE_IN_PROGRESS
INFO[0121] Cloudformation stack status                   stackStatus=CREATE_IN_PROGRESS
VPC created: vpc-0eeacc205a44d937c
Security Group created: sg-08d90fc4ee48edde3
Subnet created: subnet-02ea5c5d22f9692c5
Subnet created: subnet-098b26c7298c21bff
Cluster creation succeeded.
</code></pre>
<p>You can check your Cloudformation console and you should now see a new stack which has been created for this.</p>
<p>Next step is to create the Task definition. This is where you will create the definition for the four containers that make up Jitsi. The task definition takes by default the directory name, so we will create a directory and move our docker composer file into that first.</p>
<pre><code>$ mkdir jitsi-central
$ mv docker-jitsi-meet jitsi-central
$ cd jitsi-central/docker-jitsi-meet
$ ecs-cli compose --file docker-compose.yml up 
</code></pre>
<p>And you should get output as follows;</p>
<pre><code>WARN[0000] Skipping unsupported YAML option for service...  option name=depends_on service name=jicofo
WARN[0000] Skipping unsupported YAML option for service...  option name=networks service name=jicofo
WARN[0000] Skipping unsupported YAML option for service...  option name=depends_on service name=jvb
WARN[0000] Skipping unsupported YAML option for service...  option name=networks service name=jvb
WARN[0000] Skipping unsupported YAML option for service...  option name=expose service name=prosody
WARN[0000] Skipping unsupported YAML option for service...  option name=networks service name=prosody
WARN[0000] Skipping unsupported YAML option for service...  option name=networks service name=web
INFO[0000] Using ECS task definition                     TaskDefinition=&quot;jitsi-central:1&quot;
INFO[0000] Starting container...                         container=55d4770b-d356-447e-b079-c3c743da5e08/jicofo
INFO[0000] Starting container...                         container=55d4770b-d356-447e-b079-c3c743da5e08/jvb
INFO[0000] Starting container...                         container=55d4770b-d356-447e-b079-c3c743da5e08/prosody
INFO[0000] Starting container...                         container=55d4770b-d356-447e-b079-c3c743da5e08/web
INFO[0000] Describe ECS container status                 container=55d4770b-d356-447e-b079-c3c743da5e08/web desiredStatus=RUNNING lastStatus=PENDING taskDefinition=&quot;jitsi-central:1&quot;
INFO[0000] Describe ECS container status                 container=55d4770b-d356-447e-b079-c3c743da5e08/jvb desiredStatus=RUNNING lastStatus=PENDING taskDefinition=&quot;jitsi-central:1&quot;
INFO[0000] Describe ECS container status                 container=55d4770b-d356-447e-b079-c3c743da5e08/jicofo desiredStatus=RUNNING lastStatus=PENDING taskDefinition=&quot;jitsi-central:1&quot;
INFO[0000] Describe ECS container status                 container=55d4770b-d356-447e-b079-c3c743da5e08/prosody desiredStatus=RUNNING lastStatus=PENDING taskDefinition=&quot;jitsi-central:1&quot;
INFO[0012] Describe ECS container status                 container=55d4770b-d356-447e-b079-c3c743da5e08/web desiredStatus=RUNNING lastStatus=PENDING taskDefinition=&quot;jitsi-central:1&quot;
INFO[0012] Describe ECS container status                 container=55d4770b-d356-447e-b079-c3c743da5e08/jvb desiredStatus=RUNNING lastStatus=PENDING taskDefinition=&quot;jitsi-central:1&quot;
INFO[0012] Describe ECS container status                 container=55d4770b-d356-447e-b079-c3c743da5e08/jicofo desiredStatus=RUNNING lastStatus=PENDING taskDefinition=&quot;jitsi-central:1&quot;
INFO[0012] Describe ECS container status                 container=55d4770b-d356-447e-b079-c3c743da5e08/prosody desiredStatus=RUNNING lastStatus=PENDING taskDefinition=&quot;jitsi-central:1&quot;
INFO[0018] Started container...                          container=55d4770b-d356-447e-b079-c3c743da5e08/web desiredStatus=RUNNING lastStatus=RUNNING taskDefinition=&quot;jitsi-central:1&quot;
INFO[0018] Started container...                          container=55d4770b-d356-447e-b079-c3c743da5e08/jvb desiredStatus=RUNNING lastStatus=RUNNING taskDefinition=&quot;jitsi-central:1&quot;
INFO[0018] Started container...                          container=55d4770b-d356-447e-b079-c3c743da5e08/jicofo desiredStatus=RUNNING lastStatus=RUNNING taskDefinition=&quot;jitsi-central:1&quot;
INFO[0018] Started container...                          container=55d4770b-d356-447e-b079-c3c743da5e08/prosody desiredStatus=RUNNING lastStatus=RUNNING taskDefinition=&quot;jitsi-central:1&quot;
</code></pre>
<p>We now have our Task Definition for jitsi-central up and running. Now we just need to amend some configuration options before we can start and then access our Jitsi application.</p>
<p><strong>Changing the configuration</strong></p>
<p>From the Amazon ECS console, select TASK DEFINITION and on the list, select the task you have just created (in the example above, this will be jitsi-central).</p>
<p>When you click on it, you will see a list of versions of the task. If this is the first, you will only see one, but as you changed, edit, configure the tasks, the versioned list will grow (and you will see that each version as the next sequential number added to it - for example, jitsi-central:1, jitsi-central:2, jitsi-central:3, etc)</p>
<p>Click on the newest (highest number) version. On the screen that follows, click on the CREATE NEW REVISION.</p>
<p>Scroll down to the area called CONTAINER DEFINITIONS, you should see the four containers (jvb, prosody, web and jicodo).</p>
<p>The first thing we are going to do is change memory allocations as the defaults are too low. (Note! You will need to experiment with this for your setup, and tune it depending on how busy your server will be)</p>
<p>Click on JVB. On the screen that pops up, change the MEMORY LIMITS (MiB) from the default of 512 to 4096. Click on UPDATE. Change PROSODY and change it to 1024 and JICOFO and change it to 1024, making sure you click on UPDATE each time.</p>
<blockquote>
<p>When you get this up and running, you might want to modify the memory settings to optimize the performance of the application</p>
</blockquote>
<p>Scroll to the bottom of the screen and click on CREATE. You should get a green box that says you have created a new revision of the task.</p>
<p>We will now update the networking. From this screen click on the CREATE NEW REVISION again. Scroll down to the area CONTAINER DEFINITIONS again. Click on JVB.</p>
<p>Scroll down to the NETWORK SETTINGS and in the box called LINKS enter
&lsquo;prosody:xmpp.meet.jitsi&rsquo; and then click on UPDATE.</p>
<p>Repeat this for the JIFOCO and WEB containers.</p>
<p>Select the PROSODY container, and scroll down to the NETWORK settings, and this time enter &lsquo;xmpp.meet.jitsi&rsquo; in the HOSTNAME and then click on UPDATE.</p>
<p>Scroll to the bottom of the screen and click on CREATE. You should get a green box that says you have created a new revision of the task.</p>
<p><strong>Update the running containers</strong></p>
<p>From the Amazon ECS console, click on CLUSTERS and select the jitsi-central (or whatever you have called yours) cluster.</p>
<p>From the screen that comes up, click on TASKS. You should see that revision :1 (or a revision older than what you have just created) is running.</p>
<p>Click on the current, RUNNING task and then select STOP. A warning pop will appear, but click on STOP. You should now have no more running TASKS.</p>
<p>Click on RUN NEW TASK. From the next screen, click on the SWITCH TO LAUNCH TYPE (it will be in small writing and is easily missed).</p>
<p>Select EC2, and then scroll down and select the newest (highest number) revision of the task definition.</p>
<p>Scroll to the bottom and click RUN TASK. When you return to the TASKS dashboard, you may see the status in PENDING, but it should quickly change to RUNNING.</p>
<p>Click on the running task,. You should see a details page, and towards the bottom you should see your four running containers. Click on the WEB, and you will now see the public IP address which is open. However, the Security group has blocked these, so they will not work yet.</p>
<p><strong>Update Security Group</strong></p>
<p>You will need to amend the security group to allow inbound traffic. Change the security group so that it allows incoming UDP on port 10000 from ANY for the container host. To find the security group, look at the EC2 host that is running the ECS containers, and you will find the security group you need to update.</p>
<h3 id="add-an-ssl-certificate">Add an SSL certificate</h3>
<p>You can use AWS Certificate Manager (ACM) to generate an ssl certificate or you can upload an existing one via your preferred certificate authority (CA).</p>
<p>From the AWS console, launch the Certificate Manager (it is under Security, Identity and Compliance), and then click on GET STARTED.</p>
<blockquote>
<p>If you want to use a certificate from your preferred certificate authority, use the IMPORT CERTIIFICATE and add the key files (in PEM format).</p>
</blockquote>
<p>Click on REQUEST A PUBLIC CERTIFICATE and in the next screen enter the domain you are going to be using to access your jitsi server. Click on NEXT.</p>
<p>You will be provided two options for domain validation. If you select DNS, you will need to add a CNAME alias into your existing DNS record (this is pretty standard). If you select email, then the email alias listed in the WHOIS record will be contacted and must respond within a set amount of time. For the purpose if this walkthrough I will select DNS.</p>
<p>In the next screen (TAGS) select REVIEW, and then click on CONFIRM and REQUEST if you are ok with what you have entered.</p>
<p>On the next screen you will now see the details you need to add in your CNAME record. Click on CONTINUE and you will be take to the certificate manager console. Your request should now be in PENDING VALIDATION. This should now take a few minutes once you have updated your DNS records, and you should see the status change to ISSUED.</p>
<h3 id="configuring-a-loadbalancer">Configuring a Loadbalancer</h3>
<p>Before configuring this, make sure you identify the VPC and Subnet information your cluster has been deployed into. You can do this via the EC2 console via the INSTANCES.</p>
<p>From the Amazon EC2 console, select LOAD BALANCERS (it appears near the bottom) and then click on CREATE LOAD BALANCER.</p>
<p>Select APPLICATION LOAD BALANCER and click on CREATE.</p>
<p>For name, give it &lsquo;jitsi-lb&rsquo;</p>
<p>Under LISTENERS add HTTPS by clicking on ADD LISTNER.</p>
<p>Under AVAILABILITY zones, select the right VPC and then select two Availability zones that your load balancer will work across.</p>
<p>Click on NEXT CONFIGURATION, and from the CONFIGURE SECURITY SETTINGS you should now be able to select the certificate you created from the previous step. Click on CONFIGURE SECURITY GROUPS.</p>
<p>Accept the default, and click on CONFIGURE ROUTING. Provide a name &lsquo;jitsi-target&rsquo; leave target type to instance but change the protocol to HTTPS and the port to 8443. Click on REGISTER TARGETS.</p>
<p>On the bottom half of the screen (INSTANCES) click on the instance that is the ECS cluster and then click on ADD TO REGISTERED. Depending on how many hosts you have you will need to add them all here. (in this default walkthrough I only configured one, so I will only add one). Click REVIEW and then CREATE.</p>
<p>This will now take some time to provision the load balancer. When it completes, you will need to take the A Record details and update your DNS so that your host resolves to the load balancer.</p>
<blockquote>
<p>Once this has completed, you should configure HTTP to HTTPS redirection from the LOAD BALANCER. Select the load balancer you have just created, and click on the LISTENERS tab. Click on the HTTP:80 and select EDIT and then delete the current default action and add a new one that does a redirect to 443.</p>
</blockquote>
<h3 id="testing">Testing</h3>
<p>You should now be able to access your Jitsi instance from the domain name you are using, and connect to it from your browser.</p>
<h3 id="troubleshooting-the-installation">Troubleshooting the installation</h3>
<p>If you run into issues, then open up the security group for the ECS cluster and allow SSH access from your specific IP address. This will then allow you to use the ssh key to log into the host running the containers, and then use the following commands to help troubleshoot:</p>
<pre><code>$ docker ps - give you a list of the running containers with container IDs
$ docker exec -it {container id} bash - allow you to get a root user terminal into the container
$ docker logs {container id} - allows you to grab stdOut logs
</code></pre>
<blockquote>
<p>Note! remember these are container optimised images, so you will not have any of the tools you are used to. In order to install these to help troubleshooting, you will need to run</p>
<p>apt-dpkg-wrap apt-get update &amp;&amp; apt-get install {package}</p>
<p>some useful packages to know are &lsquo;vim&rsquo; for editing, &lsquo;dnsutils&rsquo;, &lsquo;iputils-ping&rsquo; for network testing</p>
</blockquote>
<p>You can use the ecs-cli command line tool to monitor, stop and start your clusters. Run the ecs-cli command without parameters or consult the online documentation for more help.</p>
<h3 id="changing-the-size-of-your-cluster">Changing the size of your cluster</h3>
<p>If you want to chance the size of your cluster, you have a couple of options:</p>
<ul>
<li>use the &lsquo;ecs-cli scale &ndash;capability-iam &ndash;size x&rsquo; where x is the number of instances you want to scale your cluster to (you can scale up or down)</li>
<li>You can also do this via Cloudformations. Locate the stack that was used to create your cluster (it should be called something like amazon-ecs-cli-setup-{clustername}) and then use the UPDATE and follow through the instructions to change the cluster configuration.</li>
</ul>
<p>You might need to do this if you want to have more CPU/Memory for your running Jitsi instances.</p>
<h3 id="deletinguninstalling-1">Deleting/uninstalling</h3>
<p>Once you do not need these capabilities, you should make sure that you remove the Amazon ECS Tasks and Cluster. You can use the CloudFormation script to automate the deletion of this via the ecs-cli command line tool</p>
<pre><code>$ ecs-cli service down
</code></pre>
<h3 id="advanced-installation-1">Advanced installation</h3>
<p>As per the Amazon EC2 instance, refer to the project installation documents <a href="https://github.com/jitsi/jitsi-meet/blob/master/doc/quick-install.md">here</a> to get more details on how to configure Jitsi behind a NAT instance. There will probably be more complexities getting some of those working on Amazon ECS, so get in touch and let us know how you get on.</p>
<hr>
<h1 id="supporting-the-open-source-project">Supporting the open source project</h1>
<h2 id="thank-you">Thank you!</h2>
<p>Thanks to <a href="https://twitter.com/mreferre">Massimo</a> and <a href="https://twitter.com/supercoco9">Javier</a> and <a href="https://twitter.com/IanMmmm">Ian</a> for getting me started. Huge thanks to <a href="https://twitter.com/michaelmoussa">Michael Moussa</a> who got me 90% of the way there and <a href="https://twitter.com/brentContained">Brent Langston</a> for sanity checking, and then <a href="https://twitter.com/saghul">Saul Corretge</a> from 8x8 who got me past the finish line. Final thank you to the Jitsi community who have put so much craft into this project. This has been a truly collaborate experience.</p>
<h2 id="support-the-project">Support the project</h2>
<p>Remember that this is only possible because of the Jitsi open source project. If you do use this, make sure you provide feedback, contributions or anything else that the project can use to help with their mission.</p>
<p><strong>Thank you <a href="https://jitsi.org/">https://jitsi.org/</a> for Jitsi!</strong></p>
<hr>
<h1 id="related-posts">Related posts</h1>
<p>If you found this post useful, be sure to check out the post from <a href="https://dev.to/alexcasalboni">Alex Casalboni</a> on <a href="https://dev.to/aws/how-to-live-stream-meetups-on-twitch-without-any-special-equipment-56cb">How to live stream meet-ups on twitch without any special equipment</a>. This is well worth your time reading. Thanks Alex!.</p>

  </main>

          <div class="social-heading">
            <div class="footer-social">
  
    <div class="social-icon">
      <a href="https://twitter.com/094459" target="_blank" title="Twitter">
        <svg xmlns="http://www.w3.org/2000/svg"
aria-label="Twitter" role="img"
viewBox="0 0 512 512"><rect
width="512" height="512"
rx="15%"
fill="#1da1f3"/><path fill="#fff" d="M437 152a72 72 0 0 1-40 12 72 72 0 0 0 32-40 72 72 0 0 1-45 17 72 72 0 0 0-122 65 200 200 0 0 1-145-74 72 72 0 0 0 22 94 72 72 0 0 1-32-7 72 72 0 0 0 56 69 72 72 0 0 1-32 1 72 72 0 0 0 67 50 200 200 0 0 1-105 29 200 200 0 0 0 309-179 200 200 0 0 0 35-37"/></svg>
      </a>
    </div>
  
  
  
    <div class="social-icon">
      <a href="https://github.com/094459" target="_blank" title="GitHub">
        <svg xmlns="http://www.w3.org/2000/svg"
aria-label="GitHub" role="img"
viewBox="0 0 512 512"><rect
width="512" height="512"
rx="15%"
fill="#1B1817"/><path fill="#fff" d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"/></svg>
      </a>
    </div>
  
  
    <div class="social-icon">
      <a href="https://www.linkedin.com/in/ricardosueiras" target="_blank" title="Linkedin">
        <svg xmlns="http://www.w3.org/2000/svg"
aria-label="LinkedIn" role="img"
viewBox="0 0 512 512"
fill="#fff"><rect
width="512" height="512"
rx="15%"
fill="#0077b5"/><circle cx="142" cy="138" r="37"/><path stroke="#fff" stroke-width="66" d="M244 194v198M142 194v198"/><path d="M276 282c0-20 13-40 36-40 24 0 33 18 33 45v105h66V279c0-61-32-89-76-89-34 0-51 19-59 32"/></svg>
      </a>
    </div>
  
  
  
    <div class="social-icon">
      <a href="https://www.reddit.com/r/aws" target="_blank" title="Reddit">
        <svg xmlns="http://www.w3.org/2000/svg"
aria-label="Reddit" role="img"
viewBox="0 0 512 512"><rect
width="512" height="512"
rx="15%"
fill="#f40"/><g fill="#fff"><ellipse cx="256" cy="307" rx="166" ry="117"/><circle cx="106" cy="256" r="42"/><circle cx="407" cy="256" r="42"/><circle cx="375" cy="114" r="32"/></g><g stroke-linecap="round" stroke-linejoin="round" fill="none"><path d="m256 196 23-101 73 15" stroke="#fff" stroke-width="16"/><path d="m191 359c33 25 97 26 130 0" stroke="#f40" stroke-width="13"/></g><g fill="#f40"><circle cx="191" cy="287" r="31"/><circle cx="321" cy="287" r="31"/></g></svg>
      </a>
    </div>
  
  
  
  
  
  
  
  
    <div class="social-icon">
      <a href="mailto:ricsue@amazon.com" title="Email">
        <svg xmlns="http://www.w3.org/2000/svg"
aria-label="Email" role="img"
viewBox="0 0 512 512"><rect
width="512" height="512"
rx="15%"
fill="teal"/><rect width="356" height="256" x="78" y="128" fill="#fff" rx="8%"/><path fill="none" stroke="teal" stroke-width="20" d="M434 128L269 292c-7 8-19 8-26 0L78 128m0 256l129-128m227 128L305 256"/></svg>
      </a>
    </div>
  
  
</div>

          </div>
          <footer role="contentinfo">
  <div class="social-footer">
    <div class="footer-social">
  
    <div class="social-icon">
      <a href="https://twitter.com/094459" target="_blank" title="Twitter">
        <svg xmlns="http://www.w3.org/2000/svg"
aria-label="Twitter" role="img"
viewBox="0 0 512 512"><rect
width="512" height="512"
rx="15%"
fill="#1da1f3"/><path fill="#fff" d="M437 152a72 72 0 0 1-40 12 72 72 0 0 0 32-40 72 72 0 0 1-45 17 72 72 0 0 0-122 65 200 200 0 0 1-145-74 72 72 0 0 0 22 94 72 72 0 0 1-32-7 72 72 0 0 0 56 69 72 72 0 0 1-32 1 72 72 0 0 0 67 50 200 200 0 0 1-105 29 200 200 0 0 0 309-179 200 200 0 0 0 35-37"/></svg>
      </a>
    </div>
  
  
  
    <div class="social-icon">
      <a href="https://github.com/094459" target="_blank" title="GitHub">
        <svg xmlns="http://www.w3.org/2000/svg"
aria-label="GitHub" role="img"
viewBox="0 0 512 512"><rect
width="512" height="512"
rx="15%"
fill="#1B1817"/><path fill="#fff" d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"/></svg>
      </a>
    </div>
  
  
    <div class="social-icon">
      <a href="https://www.linkedin.com/in/ricardosueiras" target="_blank" title="Linkedin">
        <svg xmlns="http://www.w3.org/2000/svg"
aria-label="LinkedIn" role="img"
viewBox="0 0 512 512"
fill="#fff"><rect
width="512" height="512"
rx="15%"
fill="#0077b5"/><circle cx="142" cy="138" r="37"/><path stroke="#fff" stroke-width="66" d="M244 194v198M142 194v198"/><path d="M276 282c0-20 13-40 36-40 24 0 33 18 33 45v105h66V279c0-61-32-89-76-89-34 0-51 19-59 32"/></svg>
      </a>
    </div>
  
  
  
    <div class="social-icon">
      <a href="https://www.reddit.com/r/aws" target="_blank" title="Reddit">
        <svg xmlns="http://www.w3.org/2000/svg"
aria-label="Reddit" role="img"
viewBox="0 0 512 512"><rect
width="512" height="512"
rx="15%"
fill="#f40"/><g fill="#fff"><ellipse cx="256" cy="307" rx="166" ry="117"/><circle cx="106" cy="256" r="42"/><circle cx="407" cy="256" r="42"/><circle cx="375" cy="114" r="32"/></g><g stroke-linecap="round" stroke-linejoin="round" fill="none"><path d="m256 196 23-101 73 15" stroke="#fff" stroke-width="16"/><path d="m191 359c33 25 97 26 130 0" stroke="#f40" stroke-width="13"/></g><g fill="#f40"><circle cx="191" cy="287" r="31"/><circle cx="321" cy="287" r="31"/></g></svg>
      </a>
    </div>
  
  
  
  
  
  
  
  
    <div class="social-icon">
      <a href="mailto:ricsue@amazon.com" title="Email">
        <svg xmlns="http://www.w3.org/2000/svg"
aria-label="Email" role="img"
viewBox="0 0 512 512"><rect
width="512" height="512"
rx="15%"
fill="teal"/><rect width="356" height="256" x="78" y="128" fill="#fff" rx="8%"/><path fill="none" stroke="teal" stroke-width="20" d="M434 128L269 292c-7 8-19 8-26 0L78 128m0 256l129-128m227 128L305 256"/></svg>
      </a>
    </div>
  
  
</div>

    <label for="themer">
      dark theme: <input type="checkbox" id="themer" class="vh">
      <span aria-hidden="true"></span>
    </label>
  </div>
  
    <p class="margin-top-none">Copyright &copy; <span id="copyright-year"></span> - Ricardo Sueiras</p>
  
  
    <p class="margin-top-none">
    Made with <a href="https://gohugo.io/">Hugo</a>. Themed by <a href="https://github.com/zwbetz-gh/cupper-hugo-theme">Cupper</a>.
    </p>
  
</footer>
<script>
    var year = new Date().getFullYear()
    document.getElementById("copyright-year").innerHTML = year;
</script>

        </div>
      </div>
    </div>
    <script src="https://example.com/js/prism.js"></script>



<script src="https://example.com/js/dom-scripts.js"></script>



<script src="/js/search.7aef046a0cc8b0c532f1d20087b920459bc868c936bb48a6ae221eceefca2d07.js"></script>



    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.min.css" integrity="sha384-dbVIfZGuN1Yq7/1Ocstc1lUEm+AT+/rCkibIcC/OmWo5f0EA48Vf8CytHzGrSwbQ" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.min.js" integrity="sha384-2BKqo+exmr9su6dir+qCw08N2ZKRucY4PrGQPPWU1A7FtlCGjmEGFqXCv5nyM5Ij" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>

  </body>
</html>
